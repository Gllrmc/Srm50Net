(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["preview"],{"2c58":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{align:"start"}},[[a("v-snackbar",{attrs:{timeout:t.timeout,absolute:"",top:"",app:"",right:"",color:t.snackcolor},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"#FFFFFF",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" CLOSE ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snacktext)+" ")])],a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-data-table",{staticClass:"elevation-1 blue-grey lighten-5",attrs:{dense:"",headers:t.headersskills,items:t.skills,search:t.searchs,"no-data-text":"Nothing to Show"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("div",{staticClass:"ma-2"},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("mdi-printer")])],1)],1),a("v-toolbar-title",[t._v("Skills")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{dense:"",label:"Search",outlined:"","append-icon":"mdi-magnify","single-line":"","hide-details":"",clearable:""},model:{value:t.searchs,callback:function(e){t.searchs=e},expression:"searchs"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},s),[t._v("NEW")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-container",{staticClass:"grey lighten-5",attrs:{"grid-list-md":""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Skill name",counter:"32",rules:t.nameRules},model:{value:t.skill,callback:function(e){t.skill=e},expression:"skill"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-switch",{staticClass:"mx-2",attrs:{dense:"",label:"Occupation?"},model:{value:t.ismainrole,callback:function(e){t.ismainrole=e},expression:"ismainrole"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.close}},[t._v("CANCEL")]),a("v-btn",{attrs:{color:"secondary",dark:"",disabled:!t.validForm,text:""},on:{click:t.guardar}},[t._v("SAVE")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"390"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Active Skill?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Inactivate Skill?")]):t._e(),a("v-card-text",[t._v(" You are about to "),1==t.adAccion?a("span",[t._v("Activate ")]):t._e(),2==t.adAccion?a("span",[t._v("Inactivate ")]):t._e(),t._v(" the Skill: "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:t.activarDesactivarCerrar}},[t._v("Cancel "),a("v-icon",[t._v("mdi-cancel")])],1),1==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.activar}},[t._v("Activate "),a("v-icon",[t._v("mdi-lock-open")])],1):t._e(),2==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.desactivar}},[t._v("Inactivate "),a("v-icon",[t._v("mdi-lock")])],1):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.recordInfo,callback:function(e){t.recordInfo=e},expression:"recordInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Item Info")]),a("v-card-text",[a("p",[a("b",[t._v("Creation:")])]),t._v(" "+t._s(t.iduseralta)),a("br"),t._v(" "+t._s(t.fecalta)+" "),a("p"),a("p",[a("b",[t._v("Last Update':")])]),t._v(" "+t._s(t.iduserumod)),a("br"),t._v(" "+t._s(t.fecumod)),a("br")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:function(e){t.recordInfo=!1}}},[t._v("Exit "),a("v-icon",[t._v("mdi-cancel")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",on:{click:function(e){return t.editItem(s)}}},"v-icon",r,!1),i),[t._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[t._v("Edit")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",on:{click:function(e){return t.deleteItem(s)}}},"v-icon",r,!1),i),[t._v(" mdi-delete ")])]}}],null,!0)},[a("span",[t._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[s.activo?[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",on:{click:function(e){return t.activarDesactivarMostrar(2,s)}}},"v-icon",r,!1),i),[t._v(" mdi-eye-off ")])]:[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",on:{click:function(e){return t.activarDesactivarMostrar(1,s)}}},"v-icon",r,!1),i),[t._v(" mdi-eye ")])]]}}],null,!0)},[a("span",[t._v("Act/Ina")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",attrs:{small:""},on:{click:function(e){return t.infoItem(s)}}},"v-icon",r,!1),i),[t._v(" mdi-information-outline ")])]}}],null,!0)},[a("span",[t._v("Info")])])]}},{key:"item.ismainrole",fn:function(e){var s=e.item;return[a("td",[s.ismainrole?a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Yes")])],1):a("div",[a("v-chip",{staticClass:"ma-2"},[t._v("No")])],1)])]}},{key:"item.activo",fn:function(e){var s=e.item;return[a("td",[s.activo?a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Active")])],1):a("div",[a("v-chip",{staticClass:"ma-2"},[t._v("Dormant")])],1)])]}},{key:"item.fecalta",fn:function(e){var s=e.item;return[a("td",[t._v(t._s(s.fecalta.substr(0,16)))])]}},{key:"item.fecumod",fn:function(e){var s=e.item;return[a("td",[t._v(t._s(s.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reset")])]},proxy:!0}],null,!0)})],1)],2)},i=[],r=(a("b0c0"),a("d81d"),a("c740"),a("bc3a")),o=a.n(r),n=a("8baf"),l={data:function(){return{validForm:!1,nameRules:[function(t){return!!t||"Name is required"},function(t){return t&&t.length<=32||"Name must be less than 32 characters"}],up3:"AAA",colores:[{value:"#F44336",text:"Rojo"},{value:"#E91E63",text:"Rosa"},{value:"#9C27B0",text:"Violeta"},{value:"#673AB7",text:"Violeta oscuro"},{value:"#3F51B5",text:"Indigo"},{value:"#2196F3",text:"Azul"},{value:"#03A9F4",text:"Celeste"},{value:"#00BCD4",text:"Cianico"},{value:"#009688",text:"Turquesa"},{value:"#4CAF50",text:"Verde"},{value:"#8BC34A",text:"Verde claro"},{value:"#CDDC39",text:"Lima"},{value:"#FFEB3B",text:"Amarillo"},{value:"#FFC107",text:"Ambar"},{value:"#FF9800",text:"Naranja"},{value:"#FF5722",text:"Naranja oscuro"},{value:"#795548",text:"Marron"},{value:"#607D8B",text:"Lívido"},{value:"#9E9E9E",text:"Gris"},{value:"#000000",text:"Negro"},{value:"#FFFFFF",text:"Blanco"}],textos:[{value:"white",text:"Blanco"},{value:"black",text:"Negro"}],snackbar:!1,snackcolor:"",snacktext:"",timeout:2e3,recordInfo:0,skills:[],usuarios:[],artistas:[],proyectos:[],proyectogrupos:[],workgroupId:"",imageUrl:"",userheader:"",proyheader:"",dialog:!1,userdialog:!1,proydialog:!1,headersskills:[{text:"Skill Name",value:"skill",align:"start",sortable:!0},{text:"Occupation?",value:"ismainrole",align:"start",sortable:!0},{text:"Status",value:"activo",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1}],headersusuarios:[{text:"#",value:"selected",align:"center",sortable:!1},{text:"Avatar",value:"imgusuario",align:"center",sortable:!1},{text:"Userid",value:"userid",align:"start",sortable:!0},{text:"email",value:"email",align:"start",sortable:!0}],headersproyectos:[{text:"#",value:"selected",align:"center",sortable:!1},{text:"Proyecto",value:"skill",align:"start",sortable:!0},{text:"Tarifa",value:"tarifaproyectogrupo",align:"end",sortable:!0},{text:"Costo",value:"costoproyectogrupo",align:"end",sortable:!0},{text:"Notas",value:"notas",align:"start",sortable:!0}],searchs:"",searchp:"",searchu:"",editedIndex:-1,id:"",skill:"",ismainrole:!1,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:!1,colfondo:"#000000",coltexto:"black",imgusuario:"",adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New skill":"Update skill"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.select(),this.listar()},methods:{salir:function(){this.$store.dispatch("salir")},save:function(){},cancel:function(){},pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this,a=t.target.files;if(void 0!==a[0]){if(this.imageName=a[0].name,this.imageName.lastIndexOf(".")<=0)return;var s=new FileReader;s.readAsDataURL(a[0]),s.addEventListener("load",(function(){e.imageUrl=s.result,e.imageFile=a[0],e.imgusuario=e.imageUrl}))}else this.imageName="",this.imageFile="",this.imageUrl=""},clearImagen:function(){this.imageUrl="",this.imgusuario=""},crearPDF:function(){var t=[{title:"Skill name",dataKey:"skill"},{title:"Mani Role",dataKey:"ismainrole"},{title:"Active",dataKey:"activo"}],e=[];this.skills.map((function(t){e.push({skill:t.skill,ismainrole:t.ismainrol?"SI":"NO",activo:t.activo})}));var a=new n["default"]("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Listado de Skills",40,30)}}),a.save("Skills.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};o.a.get("api/Skills/Listar",a).then((function(e){t.skills=e.data})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackbar=!0,t.snackcolor="error",console.log(e),401==e.response.status&&t.salir()}))},select:function(){var t=this,e=[],a={Authorization:"Bearer "+this.$store.state.token},s={headers:a};o.a.get("api/Usuarios/Listar",s).then((function(a){e=a.data,e.map((function(e){t.usuarios.push({selected:!1,iduseralta:e.iduseralta,iduserumod:e.iduserumod,imgusuario:e.imgusuario,colfondo:e.colfondo,coltexto:e.coltexto,email:e.email,iniciales:e.iniciales,nombre:e.nombre,apellido:e.apellido,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},editItem:function(t){this.id=t.id,this.skill=t.skill,this.ismainrole=t.ismainrole,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.activo=t.activo,this.editedIndex=1,this.userdialog=!1,this.dialog=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var s={Authorization:"Bearer "+e.$store.state.token},i={headers:s};o.a.delete("api/Skills/Eliminar/"+t.id,i).then((function(){e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0,e.close(),e.listar()})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t),401==t.response.status&&e.salir()}))}},infoItem:function(t){var e=this.usuarios.findIndex((function(e){return e.iduseralta===t.iduseralta}));this.iduseralta=this.usuarios[e].email+" ("+this.usuarios[e].nombre+" "+this.usuarios[e].apellido+")",this.fecalta=t.fecalta,this.iduserumod=this.usuarios[e].email+" ("+this.usuarios[e].nombre+" "+this.usuarios[e].apellido+")",this.fecumod=t.fecumod,this.recordInfo=!0},closeInfo:function(){this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.recordInfo=!1},close:function(){this.dialog=!1,this.limpiar()},accionProyecto:function(){},limpiar:function(){this.id="",this.skill="",this.ismainrole=!1,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.activo=!1,this.validForm=!1,this.userdialog=!1,this.editedIndex=-1},guardar:function(){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;o.a.put("api/Skills/Actualizar",{Id:a.id,skill:a.skill,ismainrole:a.ismainrole,iduserumod:a.$store.state.usuario.idusuario},e).then((function(){a.snacktext="Updated",a.snackcolor="success",a.snackbar=!0,a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="An error was detected. Code: "+t.response.status,a.snackbar=!0,a.snackcolor="error",console.log(t),401==t.response.status&&a.salir()}))}else{var s=this;o.a.post("api/Skills/Crear",{skill:s.skill,ismainrole:s.ismainrol,iduseralta:s.$store.state.usuario.idusuario},e).then((function(){s.snacktext="Created",s.snackcolor="success",s.snackbar=!0,s.close(),s.listar(),s.limpiar()})).catch((function(t){s.snacktext="An error was detected. Code: "+t.response.status,s.snackbar=!0,s.snackcolor="error",console.log(t),401==t.response.status&&s.salir()}))}},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.userid,this.adId=e.id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};o.a.put("api/Skills/Activar/"+this.adId,{},a).then((function(){t.snacktext="Activated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};o.a.put("api/Skills/Desactivar/"+this.adId,{},a).then((function(){t.snacktext="Inactivated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))}}},c=l,d=a("2877"),u=a("6544"),v=a.n(u),f=a("8336"),m=a("b0af"),h=a("99d9"),p=a("cc20"),k=a("62ad"),g=a("a523"),b=a("8fea"),x=a("169a"),_=a("ce7e"),C=a("4bd4"),y=a("132d"),w=a("0fd9"),S=a("2db4"),A=a("2fa4"),I=a("b73d"),D=a("8654"),F=a("71d9"),N=a("2a7f"),V=a("3a2f"),P=Object(d["a"])(c,s,i,!1,null,null,null);e["default"]=P.exports;v()(P,{VBtn:f["a"],VCard:m["a"],VCardActions:h["a"],VCardText:h["b"],VCardTitle:h["c"],VChip:p["a"],VCol:k["a"],VContainer:g["a"],VDataTable:b["a"],VDialog:x["a"],VDivider:_["a"],VForm:C["a"],VIcon:y["a"],VRow:w["a"],VSnackbar:S["a"],VSpacer:A["a"],VSwitch:I["a"],VTextField:D["a"],VToolbar:F["a"],VToolbarTitle:N["a"],VTooltip:V["a"]})},"65ef":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticStyle:{overflow:"auto"},attrs:{align:"start"}},[a("v-snackbar",{attrs:{timeout:t.timeout,absolute:"",top:"",app:"",right:"",color:t.snackcolor},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"#FFFFFF",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" CLOSE ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snacktext)+" ")]),a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Pre-selects")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{dense:"",label:"Búsqueda",outlined:"","append-icon":"mdi-magnify","single-line":"","hide-details":""},model:{value:t.searchm,callback:function(e){t.searchm=e},expression:"searchm"}}),a("v-spacer")],1),a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerspreselects,items:t.preselects,search:t.searchm,"no-data-text":"Nada para mostrar"},scopedSlots:t._u([{key:"item.actions",fn:function(e){var s=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.editMasterItem(s)}}},"v-icon",r,!1),i),[t._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[t._v("View Artists")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.deleteMasterItem(s)}}},"v-icon",r,!1),i),[t._v(" mdi-delete ")])]}}],null,!0)},[a("span",[t._v("Delete Pre-select")])])]}},{key:"item.code",fn:function(e){var s=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("span",t._g(t._b({on:{click:function(e){return t.editMasterItem(s)}}},"span",r,!1),i),[t._v(" "+t._s(s.code)+" ")])]}}],null,!0)},[a("span",[t._v("View Artists")])])]}},{key:"item.preselect",fn:function(e){var s=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("span",t._g(t._b({on:{click:function(e){return t.editMasterItem(s)}}},"span",r,!1),i),[t._v(" "+t._s(s.preselect)+" ")])]}}],null,!0)},[a("span",[t._v("View Artists")])])]}},{key:"item.fecumod",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.fecumod.slice(0,10))+" ")]}},{key:"item.fecalta",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.fecalta.slice(0,10))+" ")]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarMaster}},[t._v("Reset")])]},proxy:!0}],null,!0)})],1),a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:t.detaildialog,callback:function(e){t.detaildialog=e},expression:"detaildialog"}},[a("v-snackbar",{attrs:{timeout:t.timeout,absolute:"",top:"",app:"",right:"",color:t.snackcolor},scopedSlots:t._u([{key:"action",fn:function(e){var s=e.attrs;return[a("v-btn",t._b({attrs:{color:"#FFFFFF",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",s,!1),[t._v(" CLOSE ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snacktext)+" ")]),a("v-data-table",{ref:"maintable",staticClass:"elevation-1 blue-grey lighten-5",attrs:{headers:t.headerartists,items:t.artists,"footer-props":{showFirstLastPage:!0,"first-icon":"mdi-arrow-collapse-left","last-icon":"mdi-arrow-collapse-right","prev-icon":"mdi-minus","next-icon":"mdi-plus","items-per-page-text":"Artists per page","items-per-page-options":[5,10,30,50,100],"show-current-page":!0},"items-per-page":30,search:t.searcha,"item-key":"id","show-select":"","multi-sort":"","no-data-text":"Nothing to show",height:"900px"},scopedSlots:t._u([{key:"header._skillartisttxs",fn:function(e){var a=e.header;return[t._v(" "+t._s(a.text)+" ")]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Pre-select: "+t._s(t.editedPreselect.code)+" "+t._s(t.editedPreselect.preselect))]),a("v-spacer"),a("tr",[a("td",[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"Artist Export",type:"xls",name:"MAnAdata.xls"}},[a("v-btn",{staticClass:"mb-0 ma-1",attrs:{color:"primary",dark:""},on:{click:function(e){return t.crearXLS()}}},[t._v(" EXPORT ")])],1)],1)]),a("v-spacer"),a("div",{staticClass:"mb-0 ma-1",staticStyle:{"background-color":"white",width:"280px"}},[a("v-select",{attrs:{dense:"",items:t.skillsfilter,label:"Get Skill","append-icon":"mdi-magnify-plus-outline",clearable:"",chips:"","deletable-chips":"",multiple:""},model:{value:t.skillFilterValues,callback:function(e){t.skillFilterValues=e},expression:"skillFilterValues"}})],1),a("div",{staticClass:"mb-0 ma-1",staticStyle:{"background-color":"white",width:"280px"}},[a("v-select",{attrs:{dense:"",items:t.skillsfilter,label:"Together with Skill","append-icon":"mdi-magnify-plus-outline",clearable:"",chips:"","deletable-chips":"",multiple:""},model:{value:t.skillFilterValues2,callback:function(e){t.skillFilterValues2=e},expression:"skillFilterValues2"}})],1),a("div",{staticClass:"mb-0 ma-1",staticStyle:{"background-color":"white",width:"400px"}},[a("v-text-field",{staticClass:"mb-2 ma-1",attrs:{dense:"",label:"Search",clearable:"","append-icon":"mdi-magnify","single-line":"","hide-details":""},model:{value:t.searcha,callback:function(e){t.searcha=e},expression:"searcha"}})],1),a("div",{staticClass:"mb-0 ma-2",staticStyle:{"background-color":"white",width:"280px"}},[a("v-menu",{ref:"menus",attrs:{"close-on-content-click":!1,"return-value":t.searchdates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.searchdates=e},"update:return-value":function(e){t.searchdates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{value:t.dateRangeSearchd,clearable:"",label:"Date range","append-icon":"mdi-calendar",readonly:""},on:{"click:clear":function(e){return t.clearAvailability()}}},"v-text-field",i,!1),s))]}}]),model:{value:t.menus,callback:function(e){t.menus=e},expression:"menus"}},[a("v-date-picker",{attrs:{color:"primary",range:"","no-title":"",scrollable:"",min:t.nowDate},model:{value:t.searchdates,callback:function(e){t.searchdates=e},expression:"searchdates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menus=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.fillAvailability(t.searchdates.sort())}}},[t._v(" OK ")])],1)],1)],1),a("v-spacer"),a("v-btn",{staticClass:"mb-0 mr-2",attrs:{color:"primary",dark:""},on:{click:function(e){return t.closeDetail()}}},[t._v("CLOSE")]),a("v-dialog",{attrs:{"max-width":"700px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-container",{staticClass:"grey lighten-5",attrs:{"grid-list-md":""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-text-field",{attrs:{dense:"",label:"Full Name",rules:t.fullnameRules,counter:"64"},model:{value:t.fullname,callback:function(e){t.fullname=e},expression:"fullname"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-select",{attrs:{dense:"",items:t.roles,label:"Occupation"},model:{value:t.mainroleid,callback:function(e){t.mainroleid=e},expression:"mainroleid"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"Daily rate",counter:"128"},model:{value:t.dailyrate,callback:function(e){t.dailyrate=e},expression:"dailyrate"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("div",{staticClass:"text-center"},[a("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}})],1)]),a("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[a("v-layout",{attrs:{column:""}},[t.imageUrl?a("div",[a("v-avatar",{staticClass:"ml-2",attrs:{size:"40"}},[a("v-img",{attrs:{src:t.imageUrl,"aspect-ratio":"2",contain:""}})],1)],1):a("div",[a("v-avatar",{attrs:{size:"40"}},[a("v-img",{attrs:{src:"/files/"+t.imgartist,"aspect-ratio":"2",contain:""}})],1)],1),a("form",{attrs:{enctype:"multipart/form-data"}},[a("div",{staticClass:"field"},[a("label",{staticClass:"label",attrs:{for:"file"}}),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/jpeg"},on:{change:function(e){return t.onFileSelected(e.target.files)}}})])]),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"fileinput",attrs:{type:"file"},on:{change:t.onFileSelected}})])],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",color:"primary"},on:{click:function(e){return t.$refs.fileinput.click()}}},[a("v-icon",[t._v(" mdi-image-frame ")])],1),a("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",color:"primary"},on:{click:t.clearImagen}},[a("v-icon",[t._v(" mdi-delete ")])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closedialog}},[t._v("CANCEL")]),a("v-btn",{attrs:{color:"secondary",dark:"",disabled:!t.validForm,text:""},on:{click:t.guardar}},[t._v("SAVE")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"900px",persistent:""},model:{value:t.preselectdialog,callback:function(e){t.preselectdialog=e},expression:"preselectdialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerspreselects,items:t.preselects,"sort-by":"fecumod","sort-desc":"","items-per-page":10,search:t.searchp},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Pre-selects")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("div",{staticClass:"mb-2 ma-1",staticStyle:{"background-color":"white",width:"400px"}},[a("v-text-field",{attrs:{dense:"",label:"Search",outlined:"",clearable:"","append-icon":"mdi-magnify","single-line":"","hide-details":""},model:{value:t.searchp,callback:function(e){t.searchp=e},expression:"searchp"}})],1),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" NEW ")])]}}]),model:{value:t.preselectCRUDdialog,callback:function(e){t.preselectCRUDdialog=e},expression:"preselectCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v("New Pre-select")])]),a("v-card-text",[a("v-form",{ref:"noteform",model:{value:t.validpreselectform,callback:function(e){t.validpreselectform=e},expression:"validpreselectform"}},[a("v-container",{staticClass:"grey lighten-5",attrs:{"grid-list-md":""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"3",md:"3"}},[a("v-text-field",{attrs:{dense:"",label:"Code",rules:t.codeRules,counter:"4"},model:{value:t.code,callback:function(e){t.code=e},expression:"code"}})],1),a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-text-field",{attrs:{dense:"",label:"Pre-select",rules:t.preselectRules,counter:"64"},model:{value:t.preselect,callback:function(e){t.preselect=e},expression:"preselect"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closePreselect}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validpreselectform},on:{click:t.savePreselect}},[t._v(" Save ")])],1)],1)],1),a("v-btn",{staticClass:"ma-1",attrs:{color:"primary",dense:"",dark:""},nativeOn:{click:function(e){t.preselectdialog=!1}}},[t._v("CLOSE")])],1)]},proxy:!0},{key:"item.code",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.code)+" ")]}},{key:"item.preselect",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.preselect)+" ")]}},{key:"item.fecumod",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.fecumod.substr(0,10))+" ")]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",on:{click:function(e){return t.appendPreselect(s)}}},[t._v(" mdi-plus-circle ")])]}}],null,!0)})],1),a("v-dialog",{attrs:{"max-width":"390"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Miembro?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Bloquear Miembro?")]):t._e(),a("v-card-text",[t._v(" You are about to "),1==t.adAccion?a("span",[t._v("Activate ")]):t._e(),2==t.adAccion?a("span",[t._v("Inactivate ")]):t._e(),t._v(" the Artist: "+t._s(t.adNombre)+" from this pre-select ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:t.activarDesactivarCerrar}},[t._v("Cancel "),a("v-icon",[t._v("mdi-cancel")])],1),1==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.activar}},[t._v("Activate "),a("v-icon",[t._v("mdi-lock-open")])],1):t._e(),2==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.desactivar}},[t._v("Inactivate "),a("v-icon",[t._v("mdi-lock")])],1):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.recordInfo,callback:function(e){t.recordInfo=e},expression:"recordInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Item info: "+t._s(t.adNombre)+" in "+t._s(t.editedPreselect.code)+" "+t._s(t.editedPreselect.preselect))]),a("v-card-text",[a("p",[t._v(t._s(t.fullname))]),a("p",[a("b",[t._v("Created by:")])]),t._v(" "+t._s(t.iduseralta)),a("br"),t._v(" "+t._s(t.fecalta)+" "),a("p"),a("p",[a("b",[t._v("Last updated by':")])]),t._v(" "+t._s(t.iduserumod)),a("br"),t._v(" "+t._s(t.fecumod)),a("br")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:function(e){t.recordInfo=!1}}},[t._v("CLOSE "),a("v-icon",[t._v("mdi-cancel")])],1)],1)],1)],1),a("v-dialog",{attrs:{persistent:"","max-width":"500"},model:{value:t.skilldialog,callback:function(e){t.skilldialog=e},expression:"skilldialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerskills,items:t.skills,search:t.searchs,"items-per-page":5,"no-data-text":"Nothing to Show"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-card",{attrs:{flat:"",color:"white"}},[a("v-card-title",[t._v(t._s(t.skillheader))]),a("v-card-actions",[a("v-text-field",{staticClass:"ma-2",attrs:{label:"Search",outlined:"",dense:"","append-icon":"mdi-magnify","single-line":"","hide-details":"",clearable:""},model:{value:t.searchs,callback:function(e){t.searchs=e},expression:"searchs"}}),a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dense:"",dark:""},nativeOn:{click:function(e){t.skilldialog=!1}}},[t._v("CLOSE")])],1)],1)]},proxy:!0},{key:"item.selected",fn:function(e){var s=e.item;return[a("v-simple-checkbox",{attrs:{ripple:!1},on:{click:function(e){return t.accionSkill(s)}},model:{value:s.selected,callback:function(e){t.$set(s,"selected",e)},expression:"item.selected"}})]}}],null,!0)})],1),a("v-dialog",{attrs:{persistent:"","max-width":"700"},model:{value:t.portfoliodialog,callback:function(e){t.portfoliodialog=e},expression:"portfoliodialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerportfolio,items:t.portfolioartists,"sort-by":"text","items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Portfolio of "+t._s(t.portfolioheader))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" NEW ")])]}}]),model:{value:t.portfolioCRUDdialog,callback:function(e){t.portfolioCRUDdialog=e},expression:"portfolioCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formTitlePortfolio)+" for "+t._s(t.portfolioheader))])]),a("v-card-text",[a("v-form",{ref:"portfolioform",model:{value:t.validportfolioform,callback:function(e){t.validportfolioform=e},expression:"validportfolioform"}},[a("v-container",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"URL Instance",rules:t.urlRules,counter:"128"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closePortfolio}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validportfolioform},on:{click:t.savePortfolio}},[t._v(" Save ")])],1)],1)],1),a("v-btn",{staticClass:"ma-1",attrs:{color:"primary",dense:"",dark:""},nativeOn:{click:function(e){t.portfoliodialog=!1}}},[t._v("CLOSE")]),a("v-dialog",{attrs:{"max-width":"520px"},model:{value:t.dialogDeletePortfolio,callback:function(e){t.dialogDeletePortfolio=e},expression:"dialogDeletePortfolio"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this item? ")]),a("p",{staticClass:"ml-3"},[t._v(t._s(t.url))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDeletePortfolio}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deletePorfolioConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.text",fn:function(e){var s=e.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:"scondary",label:""},on:{click:function(e){return t.openTab(s.text)}}},[t._v(" "+t._s(s.text)+" ")])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editPortfolio(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deletePortfolio(s)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1),a("v-dialog",{attrs:{persistent:"","max-width":"700"},model:{value:t.contactdialog,callback:function(e){t.contactdialog=e},expression:"contactdialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headercontact,items:t.contactartists,"sort-by":"text","items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Contact info of "+t._s(t.contactheader))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" NEW ")])]}}]),model:{value:t.contactCRUDdialog,callback:function(e){t.contactCRUDdialog=e},expression:"contactCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formTitleContact)+" for "+t._s(t.contactheader))])]),a("v-card-text",[a("v-form",{ref:"portfolioform",model:{value:t.validcontactform,callback:function(e){t.validcontactform=e},expression:"validcontactform"}},[a("v-container",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Contact Instance",rules:t.contactRules,counter:"128"},model:{value:t.contact,callback:function(e){t.contact=e},expression:"contact"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeContact}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validcontactform},on:{click:t.saveContact}},[t._v(" Save ")])],1)],1)],1),a("v-btn",{staticClass:"ma-1",attrs:{color:"primary",dense:"",dark:""},nativeOn:{click:function(e){t.contactdialog=!1}}},[t._v("CLOSE")]),a("v-dialog",{attrs:{"max-width":"520px"},model:{value:t.dialogDeleteContact,callback:function(e){t.dialogDeleteContact=e},expression:"dialogDeleteContact"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this item? ")]),a("p",{staticClass:"ml-3"},[t._v(t._s(t.contact))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDeleteContact}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deleteContactConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.text",fn:function(e){var s=e.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:"scondary",label:""},on:{click:function(e){return t.openTab(s.text)}}},[t._v(" "+t._s(s.text)+" ")])]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editContact(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteContact(s)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1),a("v-dialog",{attrs:{persistent:"","max-width":"700"},model:{value:t.notedialog,callback:function(e){t.notedialog=e},expression:"notedialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headernotes,items:t.noteartists,"sort-by":"fecumod","sort-desc":"","items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Notes of "+t._s(t.noteheader))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" NEW ")])]}}]),model:{value:t.noteCRUDdialog,callback:function(e){t.noteCRUDdialog=e},expression:"noteCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formTitleNote)+" for "+t._s(t.noteheader))])]),a("v-card-text",[a("v-form",{ref:"noteform",model:{value:t.validnoteform,callback:function(e){t.validnoteform=e},expression:"validnoteform"}},[a("v-container",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Note",rules:t.noteRules,counter:"512"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeNote}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validnoteform},on:{click:t.saveNote}},[t._v(" Save ")])],1)],1)],1),a("v-btn",{staticClass:"ma-1",attrs:{color:"primary",dense:"",dark:""},nativeOn:{click:function(e){t.notedialog=!1}}},[t._v("CLOSE")]),a("v-dialog",{attrs:{"max-width":"520px"},model:{value:t.dialogDeleteNote,callback:function(e){t.dialogDeleteNote=e},expression:"dialogDeleteNote"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this note? ")]),a("p",{staticClass:"ml-3"},[t._v(t._s(t.note))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDeleteNote}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deleteNoteConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.fecumod",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.fecumod.substr(0,10))+" ")]}},{key:"item.text",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.text)+" ")]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editNote(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteNote(s)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1),a("v-dialog",{attrs:{persistent:"","max-width":"700"},model:{value:t.scheduledialog,callback:function(e){t.scheduledialog=e},expression:"scheduledialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerschedules,items:t.scheduleartists,"sort-by":"fecumod","sort-desc":"","items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Commitments of "+t._s(t.scheduleheader))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"ma-1",attrs:{color:"primary",dark:""}},"v-btn",i,!1),s),[t._v(" NEW ")])]}}]),model:{value:t.scheduleCRUDdialog,callback:function(e){t.scheduleCRUDdialog=e},expression:"scheduleCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formTitleSchedule)+" for "+t._s(t.scheduleheader))])]),a("v-card-text",[a("v-form",{ref:"scheduleform",model:{value:t.validscheduleform,callback:function(e){t.validscheduleform=e},expression:"validscheduleform"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,i=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Date range","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},"v-text-field",i,!1),s))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{color:"primary",range:"","no-title":"",scrollable:""},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" OK ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Comment",counter:"32"},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeSchedule}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validscheduleform},on:{click:t.saveSchedule}},[t._v(" Save ")])],1)],1)],1),a("v-btn",{staticClass:"ma-1",attrs:{color:"primary",dense:"",dark:""},nativeOn:{click:function(e){t.scheduledialog=!1}}},[t._v("CLOSE")]),a("v-dialog",{attrs:{"max-width":"570px"},model:{value:t.dialogDeleteSchedule,callback:function(e){t.dialogDeleteSchedule=e},expression:"dialogDeleteSchedule"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this schedule? ")]),a("p",{staticClass:"ml-3"},[t._v(t._s(t.dateRangeText)+" "+t._s(t.comment))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDeleteSchedule}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deleteScheduleConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.startdate",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.startdate.substr(0,10))+" ")]}},{key:"item.enddate",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.enddate.substr(0,10))+" ")]}},{key:"item.comment",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.comment)+" ")]}},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editSchedule(s)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteSchedule(s)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var s=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!s.activo,dense:""},on:{click:function(e){return t.editItem(s)}}},"v-icon",r,!1),i),[t._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[t._v("Edit "+t._s(s.fullname))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.deleteItem(s)}}},"v-icon",r,!1),i),[t._v(" mdi-delete ")])]}}],null,!0)},[a("span",[t._v("Delete "+t._s(s.fullname))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[s.activo?[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.activarDesactivarMostrar(2,s)}}},"v-icon",r,!1),i),[t._v(" mdi-eye-off ")])]:[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.activarDesactivarMostrar(1,s)}}},"v-icon",r,!1),i),[t._v(" mdi-eye ")])]]}}],null,!0)},[a("span",[t._v("Act/Ina "+t._s(s.fullname))])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.infoItem(s)}}},"v-icon",r,!1),i),[t._v(" mdi-information-outline ")])]}}],null,!0)},[a("span",[t._v("Info")])])]}},{key:"item.activo",fn:function(e){var s=e.item;return[a("td",[s.activo?a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Active")])],1):a("div",[a("v-chip",{staticClass:"ma-2"},[t._v("Dormant")])],1)])]}},{key:"item.mainrole",fn:function(e){var s=e.item;return[a("v-edit-dialog",{attrs:{"return-value":s.mainrole,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(s,"mainrole",e)},"update:return-value":function(e){return t.$set(s,"mainrole",e)},save:function(e){return t.save(s)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Main Role ")]),a("v-select",{attrs:{dense:"",disabled:!s.activo,items:t.roles,label:"Inline Edition",autofocus:""},model:{value:s.mainroleid,callback:function(e){t.$set(s,"mainroleid",e)},expression:"item.mainroleid"}})]},proxy:!0}],null,!0)},[a("div",[t._v(t._s(s.mainrole))])])]}},{key:"item._skillartisttxs",fn:function(e){var s=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!s.activo,"x-small":""},on:{click:function(e){return t.tratarSkill(s)}}},"v-icon",r,!1),i),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Skills")])])],1),a("td",[t._v(" "+t._s(s._skillartisttxs)+" ")])]}},{key:"item._notes",fn:function(e){var s=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!s.activo,"x-small":""},on:{click:function(e){return t.tratarNote(s)}}},"v-icon",r,!1),i),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Notes")])])],1),a("td",[t._v(" "+t._s(s._notes)+" ")])]}},{key:"item._portfolios",fn:function(e){var s=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!s.activo,"x-small":""},on:{click:function(e){return t.tratarPortfolio(s)}}},"v-icon",r,!1),i),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Portfolio")])])],1),a("td",[s._portfolios&&s._portfolios.split(" ").length?a("a",t._l(s._portfolios.split(" "),(function(e,s){return a("a",{key:s,on:{click:function(a){return t.openTab(e)}}},[t._v(" "+t._s(e)+" ")])})),0):a("p",[t._v("No portfolio found")])])]}},{key:"item._contacts",fn:function(e){var s=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!s.activo,"x-small":""},on:{click:function(e){return t.tratarContact(s)}}},"v-icon",r,!1),i),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Contact info")])])],1),a("td",[s._contacts&&s._contacts.split(",").length?a("span",t._l(s._contacts.split(","),(function(e,s){return a("span",{key:s},[t._v(" "+t._s(e)+" "),a("br")])})),0):a("span",[t._v("No contact info found")])])]}},{key:"item._schedules",fn:function(e){var s=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!s.activo,"x-small":""},on:{click:function(e){return t.tratarSchedule(s)}}},"v-icon",r,!1),i),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Schedules")])])],1),s._schedules?a("td",[a("v-menu",{attrs:{"open-on-hover":"","min-width":"auto"},scopedSlots:t._u([{key:"activator",fn:function(e){var i=e.on,r=e.attrs;return[a("p",t._g(t._b({},"p",r,!1),i),t._l(s._schedules.split(","),(function(e,s){return a("span",{key:s},[t._v(" "+t._s(e)+" "),a("br")])})),0)]}}],null,!0)},[a("v-date-picker",{attrs:{"no-title":"",multiple:"",readonly:"",min:t.nowDate,elevation:"15"},model:{value:s.busydates,callback:function(e){t.$set(s,"busydates",e)},expression:"item.busydates"}})],1)],1):t._e()]}},{key:"item.availability",fn:function(e){var s=e.item;return[t.dateRangeSearchd?a("td",[t._v(" "+t._s(parseFloat(100*s.availability).toFixed(0)+"%")+" ")]):t._e()]}},{key:"item.dailyrate",fn:function(e){var s=e.item;return[a("v-edit-dialog",{attrs:{"return-value":s.dailyrate,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(s,"dailyrate",e)},"update:return-value":function(e){return t.$set(s,"dailyrate",e)},save:function(e){return t.save(s)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Daily rate ")]),a("v-text-field",{attrs:{rules:t.dailyrateRules,label:"Daily rates",hint:"Inline Edition","single-line":"",counter:"128"},model:{value:s.dailyrate,callback:function(e){t.$set(s,"dailyrate",e)},expression:"item.dailyrate"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(s.dailyrate)+" ")])]}},{key:"item.rating",fn:function(e){var s=e.item;return[a("v-edit-dialog",{attrs:{"return-value":s.rating,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(s,"rating",e)},"update:return-value":function(e){return t.$set(s,"rating",e)},save:function(e){return t.save(s)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Rating ")]),a("div",{staticClass:"text-center"},[a("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange"},model:{value:s.rating,callback:function(e){t.$set(s,"rating",e)},expression:"item.rating"}})],1)]},proxy:!0}],null,!0)},[a("div",{staticClass:"text-center"},[a("v-rating",{attrs:{"background-color":"orange lighten-3",color:"orange",small:"",readonly:""},model:{value:s.rating,callback:function(e){t.$set(s,"rating",e)},expression:"item.rating"}})],1)])]}},{key:"item.imgartist",fn:function(t){var e=t.item;return[a("td",[e.imgartist?a("div",[a("v-avatar",{attrs:{size:"40"}},[a("v-img",{attrs:{src:"/files/"+e.imgartist,"aspect-ratio":"2",contain:""}})],1)],1):a("div",[a("v-avatar",{attrs:{size:"40"}},[a("v-img",{attrs:{src:"https://ui-avatars.com/api/"+e.fullname,"aspect-ratio":"2",contain:""}})],1)],1)])]}},{key:"item.fecalta",fn:function(e){var s=e.item;return[a("td",[t._v(t._s(s.fecalta.substr(0,16)))])]}},{key:"item.fecumod",fn:function(e){var s=e.item;return[a("td",[t._v(t._s(s.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listarDetail}},[t._v("Reset")])]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],1)},i=[],r=a("2909"),o=a("1da1"),n=(a("96cf"),a("fb6a"),a("a15b"),a("ac1f"),a("1276"),a("c740"),a("7db0"),a("4de4"),a("d3b7"),a("25f0"),a("99af"),a("4e827"),a("a434"),a("d81d"),a("b0c0"),a("38cf"),a("bc3a")),l=a.n(n),c={data:function(){return{json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],validpreselectform:!1,validForm:!1,validportfolioform:!1,validcontactform:!1,validnoteform:!1,validscheduleform:!1,menu:!1,menus:!1,nowDate:new Date((new Date).getTime()-6e4*(new Date).getTimezoneOffset()).toISOString().slice(0,10),fullnameRules:[function(t){return!!t||"Full Name is required"},function(t){return t&&t.length>0&&t.length<=64||"Exceeds 64 characters"}],urlRules:[function(t){return!!t||"URL is required"},function(t){return t&&t.length>0&&t.length<=128||"Exceeds 128 characters"},function(t){return!/[ ]/.test(t)||"no spaces allowed"}],noteRules:[function(t){return!!t||"Note is required"},function(t){return t&&t.length>0&&t.length<=128||"Exceeds 512 characters"}],projectnameRules:[function(t){return!!t||"Project name is required"},function(t){return t&&t.length<=32||"Exceeds 32 characters"}],dailyrateRules:[function(t){return 0==!!t.length||t.length<=128||"Exceeds 128 characters"}],contactRules:[function(t){return!!t||"Contact info is required"},function(t){return 0==!!t.length||t.length<=128||"Exceeds 128 characters"}],codeRules:[function(t){return!!t||"Code is required"},function(t){return t&&t.length>0&&t.length<=4||"Exceed 4 digit"},function(t){return t&&t>0&&t<9999||"Exceed valid range"}],preselectRules:[function(t){return!!t||"Preselect is required"},function(t){return 0==!!t.length||t.length<=64||"Exceeds 64 characters"}],colores:[{value:"#F44336",text:"Rojo"},{value:"#E91E63",text:"Rosa"},{value:"#9C27B0",text:"Violeta"},{value:"#673AB7",text:"Violeta oscuro"},{value:"#3F51B5",text:"Indigo"},{value:"#2196F3",text:"Azul"},{value:"#03A9F4",text:"Celeste"},{value:"#00BCD4",text:"Cianico"},{value:"#009688",text:"Turquesa"},{value:"#4CAF50",text:"Verde"},{value:"#8BC34A",text:"Verde claro"},{value:"#CDDC39",text:"Lima"},{value:"#FFEB3B",text:"Amarillo"},{value:"#FFC107",text:"Ambar"},{value:"#FF9800",text:"Naranja"},{value:"#FF5722",text:"Naranja oscuro"},{value:"#795548",text:"Marron"},{value:"#607D8B",text:"Lívido"},{value:"#9E9E9E",text:"Gris"},{value:"#000000",text:"Negro"},{value:"#FFFFFF",text:"Blanco"}],textos:[{value:"white",text:"Blanco"},{value:"black",text:"Negro"}],dependentWindow:"",searcha:"",searchs:"",searchp:"",searchm:"",snackbar:!1,snackcolor:"",snacktext:"",timeout:4e3,recordInfo:0,selected:[],skillFilterValues:[],skillFilterValues2:[],artists:[],schedules:[],_shcedules:"",scheduleartists:[],skills:[],skillsfilter:[],_skillartistids:[],_skillartisttxs:[],skillartists:[],roles:[],portfolios:[],_portfolios:"",portfolioartists:[],contacts:[],_contacts:"",contactartists:[],notes:[],_notes:"",noteartists:[],preselects:[],preselectartists:[],selections:[],selectedartists:[],usuarios:[],id:"",artistid:"",fullname:"",mainroleid:"",dailyrate:"",rating:0,imgartist:"",proveeodrid:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:!1,editedPreselect:{id:null,code:null,preselect:null,iduseralta:null,fecalta:null,iduserumod:null,fecumod:null,activo:null},defaultPreselect:{id:null,code:null,preselect:null,iduseralta:null,fecalta:null,iduserumod:null,fecumod:null,activo:null},file:"",guid:"",imageUrl:"",imageFile:"",imageName:"",editedIndex:-1,detaildialog:!1,dialog:!1,workedartistid:"",roledialog:!1,roleheader:"",skilldialog:!1,skillheader:"",code:"",preselect:"",preselectdialog:!1,preselectCRUDdialog:!1,portfoliodialog:!1,portfolioCRUDdialog:!1,dialogDeletePortfolio:!1,portfolioheader:"",url:"",contactdialog:!1,contactCRUDdialog:!1,dialogDeleteContact:!1,contactheader:"",contact:"",notedialog:!1,noteCRUDdialog:!1,dialogDeleteNote:!1,noteheader:"",note:"",scheduledialog:!1,scheduleCRUDdialog:!1,dialogDeleteSchedule:!1,scheduleheader:"",startdate:"",enddate:"",dates:[],searchdates:[],comment:"",projectname:"",score:0,adModal:0,adAccion:0,adNombre:"",adId:"",filterDates:[],daysinrangefilter:0,startrangefilter:"",endrangefilter:""}},computed:{dateRangeText:function(){return this.dates?this.dates.join("/"):""},dateRangeSearchd:function(){return this.searchdates?this.searchdates.join("/"):""},headerartists:function(){return[{text:"Avatar",value:"imgartist",align:"center",sortable:!1},{text:"Full Name",value:"fullname",align:"start",sortable:!0,width:250},{text:"Occupation",value:"mainrole",align:"start",sortable:!0},{text:"Skills",value:"_skillartisttxs",align:"start",sortable:!0,width:250,filter:this.skillFilter},{text:"Portfolio",value:"_portfolios",align:"start",sortable:!0},{text:"Notes",value:"_notes",align:"start",sortable:!0,width:350},{text:"Availability",value:"_schedules",align:"start",sortable:!0,width:300},{text:"%",value:"availability",align:"start",sortable:!0},{text:"Daily rate",value:"dailyrate",align:"start",sortable:!0,width:250},{text:"Rating",value:"rating",align:"center",sortable:!0},{text:"Contact info",value:"_contacts",align:"start",sortable:!0,width:200},{text:"Status",value:"activo",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:200}]},headerskills:function(){return[{text:"#",value:"selected",align:"center",sortable:!0},{text:"Skill",value:"text",align:"start",sortable:!0}]},headerportfolio:function(){return[{text:"Instance",value:"text",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},headercontact:function(){return[{text:"Instance",value:"text",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},headernotes:function(){return[{text:"Updated",value:"fecumod",align:"start",sortable:!0},{text:"Note",value:"text",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},headerschedules:function(){return[{text:"Start",value:"startdate",align:"start",sortable:!0},{text:"End",value:"enddate",align:"start",sortable:!0},{text:"Comment",value:"comment",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},headerspreselects:function(){return[{text:"Code",value:"code",align:"start",sortable:!0},{text:"Description",value:"preselect",align:"start",sortable:!0},{text:"Created",value:"fecalta",align:"start",sortable:!0},{text:"Updated",value:"fecumod",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},formTitle:function(){return-1===this.editedIndex?"New Artist":"Update Artist"},formTitlePortfolio:function(){return-1===this.editedIndex?"New Portfolio":"Update Portfolio"},formTitleContact:function(){return-1===this.editedIndex?"New contact info":"Update contact info"},formTitleNote:function(){return-1===this.editedIndex?"New Note":"Update Note"},formTitleSchedule:function(){return-1===this.editedIndex?"New Range":"Update Range"}},watch:{dialog:function(t){t||this.closedialog()}},created:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.listarMaster(),e.next=3,t.select();case 3:case"end":return e.stop()}}),e)})))()},methods:{listarMaster:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};l.a.get("api/Preselects/Listar",a).then((function(e){t.preselects=e.data})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},salir:function(){this.$store.dispatch("salir")},skillFilter:function(t){var e=0,a=0,s=0,i=0;if(0==this.skillFilterValues.length&&0==this.skillFilterValues2.length)return!0;if(0==this.skillFilterValues2.length){for(t=t.split(", "),e=0;e<t.length;e++)for(a=0;a<this.skillFilterValues.length;a++)if(t[e]==this.skillFilterValues[a])return!0}else if(0==this.skillFilterValues.length){for(t=t.split(", "),s=0;s<t.length;s++)for(i=0;i<this.skillFilterValues2.length;i++)if(t[s]==this.skillFilterValues2[i])return!0}else for(t=t.split(", "),e=0;e<t.length;e++)for(a=0;a<this.skillFilterValues.length;a++)if(t[e]==this.skillFilterValues[a])for(s=0;s<t.length;s++)for(i=0;i<this.skillFilterValues2.length;i++)if(t[s]==this.skillFilterValues2[i])return!0;return!1},save:function(t){if(t.activo){var e=this,a={Authorization:"Bearer "+this.$store.state.token},s={headers:a};l.a.put("api/Artists/Actualizar",{id:t.artistid,fullname:t.fullname,mainroleid:t.mainroleid,dailyrate:t.dailyrate,rating:t.rating,imgartist:t.imgartist,proveedorid:t.proveedorid,iduserumod:e.$store.state.usuario.idusuario},s).then((function(a){e.editedIndex=e.artists.findIndex((function(e){return e.id===t.id})),e.artists[e.editedIndex].mainrole=e.skills.find((function(t){return t.value===a.data.mainroleid})).text,e.snacktext="Updated",e.snackcolor="success",e.snackbar=!0,e.closedialog(),e.limpiar()})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,401==t.response.status&&e.salir()}))}else this.snacktext="Dormant",this.snackcolor="error",this.snackbar=!0},cancel:function(){this.snacktext="Canceled",this.snackcolor="error",this.snackbar=!0},open:function(){},close:function(){},clearImagen:function(){this.imageUrl="",this.imgartist=""},crearXLS:function(){this.json_fields={Occupation:"mainrole","Full Name":"fullname",Skills:"_skillartisttxs",Portfolio:"_portfolios",Notes:"_notes",Availability:"_schedules","%":"availability","Contact info":"_contacts"},this.json_data=0===this.selected.length?this.$refs.maintable.$children[0].filteredItems.filter((function(t){return!0===t.activo})):this.selected.filter((function(t){return!0===t.activo}))},listarDetail:function(t){var e=this,a={Authorization:"Bearer "+e.$store.state.token},s={headers:a};l.a.get("api/Preselectartists/Listarartists/"+t,s).then((function(t){e.artists=t.data,e.$nextTick((function(){e.fillSnowflake(e.artists)}))})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t),401==t.response.status&&e.salir()}))},fillSnowflake:function(t){for(var e=this,a=[],s=[],i="",o="",n="",l="",c="",d="",u="",v=0,f=0;f<t.length;f++){a=e.skillartists.filter((function(e){return e.artistid===t[f].artistid}));for(var m=0;m<a.length;m++)i+=a[m].skillid.toString()+", ",n=e.skills.findIndex((function(t){return t.value===a[m].skillid})),o+=e.skills[n].text+", ";t[f]._skillartistids=i.substring(0,i.length-2),t[f]._skillartisttxs=o.substring(0,o.length-2),i="",o="",a=e.notes.filter((function(e){return e.artistid===t[f].artistid}));for(var h=0;h<a.length;h++)l+=a[h].fecumod.substr(0,10)+": "+a[h].text+", ";t[f]._notes=l.length>512?l.substr(0,512):l.substring(0,l.length-2),l="",a=e.portfolios.filter((function(e){return e.artistid===t[f].artistid}));for(var p=0;p<a.length;p++)c+=a[p].text+" ";t[f]._portfolios=c.length>128?c.substr(0,128):c.substring(0,c.length-1),c="",a=e.contacts.filter((function(e){return e.artistid===t[f].artistid}));for(var k=0;k<a.length;k++)d+=a[k].text+", ";t[f]._contacts=d.length>128?d.substr(0,128):d.substring(0,d.length-2),d="",a=e.schedules.filter((function(e){return e.artistid===t[f].artistid}));for(var g=0;g<a.length;g++)u+="["+a[g].startdate.substr(0,10)+"/"+a[g].enddate.substr(0,10)+"] "+a[g].comment+", ",s=[].concat(Object(r["a"])(s),Object(r["a"])(e.getDaysArr(a[g].startdate.substr(0,10),a[g].enddate.substr(0,10))));t[f]._schedules=u.length>128?u.substr(0,128):u.substr(0,u.length-2),t[f].busydates=Object(r["a"])(s).sort(),u="",e.daysinrangefilter?(v=s.filter((function(t){return t>=e.startrangefilter&&t<=e.endrangefilter})).length,t[f].availability=(e.daysinrangefilter-v)/e.daysinrangefilter):t[f].availability="",s=[]}if(e.artists.length){var b=e.artists[0];e.artists.splice(0,1,b)}},fillAvailability:function(t){var e=this;e.$refs.menus.save(t),e.filterDates=Object(r["a"])(e.getDaysArr(t[0],t[1])),e.startrangefilter=t[0],e.endrangefilter=t[1],e.daysinrangefilter=e.filterDates.length,e.fillSnowflake(e.artists)},clearAvailability:function(){var t=this;t.$refs.menus.save(""),t.searchdates=[],t.filterDates=[],t.startrangefilter=null,t.endrangefilter=null,t.daysinrangefilter=0,t.fillSnowflake(t.artists)},getDaysArr:function(t,e){for(var a=[],s=new Date(t);s<=new Date(e);s.setDate(s.getDate()+1))a.push(new Date(s).toISOString().slice(0,10));return a},select:function(){var t=this,e=[],a=[],s=[],i=[],r=[],o=[],n=[],c=[],d={Authorization:"Bearer "+t.$store.state.token},u={headers:d};l.a.get("api/Usuarios/Listar",u).then((function(a){e=a.data,e.map((function(e){t.usuarios.push({iduseralta:e.iduseralta,iduserumod:e.iduserumod,imgusuario:e.imgusuario,colfondo:e.colfondo,coltexto:e.coltexto,email:e.email,iniciales:e.iniciales,nombre:e.nombre,apellido:e.apellido,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()})),l.a.get("api/Portfolios/Listar",u).then((function(e){r=e.data,r.map((function(e){t.portfolios.push({value:e.id,artistid:e.artistid,text:e.url,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),l.a.get("api/Skills/Select",u).then((function(e){a=e.data,a.map((function(e){t.skills.push({selected:!1,value:e.id,text:e.skill,ismainrole:e.ismainrole,relid:0}),t.skillsfilter.push({text:e.skill,ismainrole:e.ismainrole}),t.roles=t.skills.filter((function(t){return t.ismainrole}))}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),l.a.get("api/Skillartists/Listar",u).then((function(e){s=e.data,s.map((function(e){t.skillartists.push({value:e.id,skillid:e.skillid,artistid:e.artistid,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),l.a.get("api/Contacts/Listar",u).then((function(e){o=e.data,o.map((function(e){t.contacts.push({value:e.id,artistid:e.artistid,text:e.contact,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),l.a.get("api/Schedules/Listar",u).then((function(e){n=e.data,n.map((function(e){t.schedules.push({value:e.id,artistid:e.artistid,startdate:e.startdate,enddate:e.enddate,comment:e.comment,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),l.a.get("api/Notes/Listar",u).then((function(e){i=e.data,i.map((function(e){t.notes.push({value:e.id,artistid:e.artistid,text:e.note,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),l.a.get("api/Preselectartists/Listar",u).then((function(e){c=e.data,c.map((function(e){t.preselectartists.push({id:e.id,artistid:e.artistid,preselectid:e.preselectid,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},editMasterItem:function(t){this.editedPreselect=Object.assign({},t),this.listarDetail(t.id),this.detaildialog=!0},editItem:function(t){this.id=t.id,this.artistid=t.artistid,this.fullname=t.fullname,this.mainroleid=t.mainroleid,this.dailyrate=t.dailyrate,this.rating=t.rating,this.imgartist=t.imgartist,this.imgoriginal=t.imgartist,this.imageUrl="",this.proveedorid=t.proveedorid,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.activo=t.activo,this.colfondo=t.colfondo,this.coltexto=t.coltexto,this.editedIndex=1,this.dialog=!0},deleteItem:function(t){var e=this,a=confirm("Are you shure to delete Artist from the Pre-select?");if(a){var s={Authorization:"Bearer "+e.$store.state.token},i={headers:s};l.a.delete("api/Preselectartists/Eliminar/"+t.id,i).then((function(){e.snacktext="Eliminated",e.snackcolor="success",e.select(),e.listar(),e.snackbar=!0,e.closedialog(),e.listarDetail(e.editedPreselect.id)})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t),401==t.response.status&&e.salir()}))}},deleteMasterItem:function(t){var e=this,a=confirm("Are you shure to delete the Pre-select?");if(a){var s={Authorization:"Bearer "+e.$store.state.token},i={headers:s};l.a.delete("api/Preselectartists/Eliminarpreselectset/"+t.id,i).then((function(){e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0,e.closedialog(),e.listarMaster()})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t),401==t.response.status&&e.salir()}))}},infoItem:function(t){var e=this.usuarios.findIndex((function(e){return e.iduseralta===t.iduseralta}));this.adNombre=t.fullname,this.iduseralta=this.usuarios[e].email+" "+this.usuarios[e].apellido+" "+this.usuarios[e].nombre,this.fecalta=t.fecalta,this.iduserumod=this.usuarios[e].email+" "+this.usuarios[e].apellido+" "+this.usuarios[e].nombre,this.fecumod=t.fecumod,this.recordInfo=!0},closeInfo:function(){this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.adNombre="",this.recordInfo=!1},closedialog:function(){this.dialog=!1,this.limpiar()},closeDetail:function(){this.detaildialog=!1,this.limpiarMaster()},limpiarMaster:function(){this.editedPreselect=Object.assign({},this.defaultPreselect),this.editedIndex=-1},limpiar:function(){this.id="",this.fullname="",this.mainroleid="",this.dailyrate="",this.rating=0,this.imgusario="",this.imageUrl="",this.proveedorid="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.activo=!1,this.editedIndex=-1},guardar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};t.imgartist&&t.imgoriginal!=t.imgartist&&(t.onDelete(t.imgoriginal),t.imgoriginal="",t.onUpload()),l.a.put("api/Artists/Actualizar",{id:t.artistid,fullname:t.fullname,mainroleid:t.mainroleid,dailyrate:t.dailyrate,rating:t.rating,imgartist:t.imgartist,proveedorid:t.proveedorid,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.editedIndex=t.artists.findIndex((function(t){return t.id===e.id})),t.artists.splice(t.editedIndex,1,e.data),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0,t.closedialog(),t.listarDetail(t.editedPreselect.id),t.limpiar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},tratarPreselect:function(){this.selected.length>0?(this.code="",this.preselect="",this.preselectdialog=!this.preselectdialog):(this.snacktext="No selection",this.snackcolor="error",this.snackbar=!0)},tratarSkill:function(t){for(var e=this,a=0,s=0;s<e.skills.length;s++)e.skills[s].selected=!1,e.skills[s].relid=0;for(var i=0;i<e.skillartists.length;i++)e.skillartists[i].artistid===t.artistid&&(a=e.skills.findIndex((function(t){return t.value===e.skillartists[i].skillid})),e.skills[a].selected=!0,e.skills[a].relid=e.skillartists[i].value);e.workedartistid=t.artistid,e.skillheader="Skill assigned to "+t.fullname,e.skilldialog=!e.skilldialog},tratarPortfolio:function(t){var e=this;e.portfolioartists=e.portfolios.filter((function(e){return e.artistid===t.artistid})),e.workedartistid=t.artistid,e.portfolioheader=t.fullname,e.portfoliodialog=!e.portfoliodialog},tratarContact:function(t){var e=this;e.contactartists=e.contacts.filter((function(e){return e.artistid===t.artistid})),e.workedartistid=t.artistid,e.contactheader=t.fullname,e.contactdialog=!e.contactdialog},tratarNote:function(t){var e=this;e.noteartists=e.notes.filter((function(e){return e.artistid===t.artistid})),e.workedartistid=t.artistid,e.noteheader=t.fullname,e.notedialog=!e.notedialog},tratarSchedule:function(t){var e=this;e.scheduleartists=e.schedules.filter((function(e){return e.artistid===t.artistid})),e.workedartistid=t.artistid,e.scheduleheader=t.fullname,e.scheduledialog=!e.scheduledialog},accionSkill:function(t){var e=this;if(!0===t.selected){var a={Authorization:"Bearer "+e.$store.state.token},s={headers:a};l.a.post("api/Skillartists/Crear",{skillid:t.value,artistid:e.workedartistid,iduseralta:e.$store.state.usuario.idusuario},s).then((function(t){e.skillartists.push({skillid:t.data.skillid,artistid:t.data.artistid,value:t.data.id}),e.fillSnowflake(e.artists),e.snacktext="Created",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t),401==t.response.status&&e.salir()}))}else{var i=e.skillartists.find((function(a){return t.value===a.skillid&&e.workedartistid===a.artistid})).value,r={Authorization:"Bearer "+e.$store.state.token},o={headers:r};l.a.delete("api/Skillartists/Eliminar/"+i,o).then((function(){e.skillartists=e.skillartists.filter((function(t){return t.value!=i})),e.fillSnowflake(e.artists),e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t),401==t.response.status&&e.salir()}))}},editPortfolio:function(t){this.editedIndex=this.portfolios.indexOf(t),this.url=t.text,this.portfolioCRUDdialog=!0},closePortfolio:function(){this.editedIndex=-1,this.url="",this.portfolioCRUDdialog=!1},deletePortfolio:function(t){this.editedIndex=this.portfolios.indexOf(t),this.url=t.text,this.dialogDeletePortfolio=!0},closeDeletePortfolio:function(){this.dialogDeletePortfolio=!1,this.url="",this.editedIndex=-1},deletePorfolioConfirm:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};l.a.delete("api/Portfolios/Eliminar/"+t.portfolios[t.editedIndex].value,a).then((function(){t.portfolios=t.portfolios.filter((function(e){return e.value!=t.portfolios[t.editedIndex].value})),t.portfolioartists=t.portfolios.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeDeletePortfolio(),t.snacktext="Eliminated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},savePortfolio:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};t.editedIndex>-1?l.a.put("api/Portfolios/Actualizar",{id:t.portfolios[t.editedIndex].value,url:t.url,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.portfolios[t.editedIndex].text=e.data.url,t.portfolios[t.editedIndex].iduserumod=e.data.iduserumod,t.portfolios[t.editedIndex].fecumod=e.data.fecumod,t.portfolioartists=t.portfolios.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closePortfolio(),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()})):l.a.post("api/Portfolios/Crear",{artistid:t.workedartistid,url:t.url,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.portfolios.push({value:e.data.id,artistid:e.data.artistid,text:e.data.url,iduseralta:e.data.iduseralta,fecalta:e.data.fecalta,iduserumod:e.data.iduserumod,fecumod:e.data.fecumod,activo:e.data.activo}),t.portfolioartists=t.portfolios.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closePortfolio(),t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},editContact:function(t){this.editedIndex=this.contacts.indexOf(t),this.contact=t.text,this.contactCRUDdialog=!0},closeContact:function(){this.editedIndex=-1,this.contact="",this.contactCRUDdialog=!1},deleteContact:function(t){this.editedIndex=this.contacts.indexOf(t),this.contact=t.text,this.dialogDeleteContact=!0},closeDeleteContact:function(){this.dialogDeleteContact=!1,this.contact="",this.editedIndex=-1},deleteContactConfirm:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};l.a.delete("api/Contacts/Eliminar/"+t.contacts[t.editedIndex].value,a).then((function(){t.contacts=t.contacts.filter((function(e){return e.value!=t.contacts[t.editedIndex].value})),t.contactartists=t.contacts.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeDeleteContact(),t.snacktext="Eliminated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},saveContact:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};t.editedIndex>-1?l.a.put("api/Contacts/Actualizar",{id:t.contacts[t.editedIndex].value,contact:t.contact,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.contacts[t.editedIndex].text=e.data.contact,t.contacts[t.editedIndex].iduserumod=e.data.iduserumod,t.contacts[t.editedIndex].fecumod=e.data.fecumod,t.contactartists=t.contacts.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeContact(),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()})):l.a.post("api/Contacts/Crear",{artistid:t.workedartistid,contact:t.contact,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.contacts.push({value:e.data.id,artistid:e.data.artistid,text:e.data.contact,iduseralta:e.data.iduseralta,fecalta:e.data.fecalta,iduserumod:e.data.iduserumod,fecumod:e.data.fecumod,activo:e.data.activo}),t.contactartists=t.contacts.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeContact(),t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},openTab:function(t){this.dependentWindow&&this.closeTab(),this.dependentWindow=window.open(t,"_blank")},viewTab:function(t){this.dependentWindow=window.open(t,"mywin","width=500, height=400")},closeTab:function(){this.dependentWindow.close()},closePreselect:function(){this.code="",this.preselect="",this.preselectCRUDdialog=!1},savePreselect:function(){var t=this,e=[];e=t.selected.map((function(t){return t.id}));var a={Authorization:"Bearer "+t.$store.state.token},s={headers:a};l.a.post("api/Preselectartists/Crearpreselectset",{code:t.code,preselect:t.preselect,artistid:e,iduseralta:t.$store.state.usuario.idusuario},s).then((function(){t.selected=[],t.preselectdialog=!1,t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},appendPreselect:function(t){var e=this,a=[];a=e.selected.map((function(t){return t.id}));var s={Authorization:"Bearer "+e.$store.state.token},i={headers:s};l.a.put("api/Preselectartists/Actualizarpreselectset",{preselectid:t.id,artistid:a,iduseralta:e.$store.state.usuario.idusuario},i).then((function(){e.selected=[],e.preselectdialog=!1,e.snacktext="Appended",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t),401==t.response.status&&e.salir()}))},editNote:function(t){this.editedIndex=this.notes.indexOf(t),this.note=t.text,this.noteCRUDdialog=!0},closeNote:function(){this.editedIndex=-1,this.note="",this.noteCRUDdialog=!1},deleteNote:function(t){this.editedIndex=this.notes.indexOf(t),this.note=t.text,this.dialogDeleteNote=!0},closeDeleteNote:function(){this.dialogDeleteNote=!1,this.note="",this.editedIndex=-1},deleteNoteConfirm:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};l.a.delete("api/Notes/Eliminar/"+t.notes[t.editedIndex].value,a).then((function(){t.notes=t.notes.filter((function(e){return e.value!=t.notes[t.editedIndex].value})),t.noteartists=t.notes.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeDeleteNote(),t.snacktext="Eliminated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},saveNote:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};t.editedIndex>-1?l.a.put("api/Notes/Actualizar",{id:t.notes[t.editedIndex].value,note:t.note,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.notes[t.editedIndex].text=e.data.note,t.notes[t.editedIndex].iduserumod=e.data.iduserumod,t.notes[t.editedIndex].fecumod=e.data.fecumod,t.noteartists=t.notes.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeNote(),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()})):l.a.post("api/Notes/Crear",{artistid:t.workedartistid,note:t.note,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.notes.push({value:e.data.id,artistid:e.data.artistid,text:e.data.note,iduseralta:e.data.iduseralta,fecalta:e.data.fecalta,iduserumod:e.data.iduserumod,fecumod:e.data.fecumod,activo:e.data.activo}),t.noteartists=t.notes.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeNote(),t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},editSchedule:function(t){this.editedIndex=this.schedules.indexOf(t),this.startdate=t.startdate,this.enddate=t.enddate,this.comment=t.comment,this.dates=[],this.dates.push(this.startdate.substr(0,10),this.enddate.substr(0,10)),this.scheduleCRUDdialog=!0},closeSchedule:function(){this.editedIndex=-1,this.startdate="",this.enddate="",this.comment="",this.dates=[],this.scheduleCRUDdialog=!1},deleteSchedule:function(t){this.editedIndex=this.schedules.indexOf(t),this.startdate=t.startdate,this.enddate=t.enddate,this.comment=t.comment,this.dates=[],this.dates.push(this.startdate.substr(0,10),this.enddate.substr(0,10)),this.dialogDeleteSchedule=!0},closeDeleteSchedule:function(){this.dialogDeleteSchedule=!1,this.startdate="",this.enddate="",this.comment="",this.dates=[],this.editedIndex=-1},deleteScheduleConfirm:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};l.a.delete("api/Schedules/Eliminar/"+t.schedules[t.editedIndex].value,a).then((function(){t.schedules=t.schedules.filter((function(e){return e.value!=t.schedules[t.editedIndex].value})),t.scheduleartists=t.schedules.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeDeleteSchedule(),t.snacktext="Eliminated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},saveSchedule:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};t.editedIndex>-1?l.a.put("api/Schedules/Actualizar",{id:t.schedules[t.editedIndex].value,startdate:t.dates[0],enddate:t.dates[1],comment:t.comment,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.schedules[t.editedIndex].startdate=e.data.startdate,t.schedules[t.editedIndex].enddate=e.data.enddate,t.schedules[t.editedIndex].comment=e.data.comment,t.schedules[t.editedIndex].iduserumod=e.data.iduserumod,t.schedules[t.editedIndex].fecumod=e.data.fecumod,t.scheduleartists=t.schedules.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeSchedule(),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()})):l.a.post("api/Schedules/Crear",{artistid:t.workedartistid,startdate:t.dates[0],enddate:t.dates[1],comment:t.comment,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.schedules.push({value:e.data.id,artistid:e.data.artistid,startdate:e.data.startdate,enddate:e.data.enddate,comment:e.data.comment,iduseralta:e.data.iduseralta,fecalta:e.data.fecalta,iduserumod:e.data.iduserumod,fecumod:e.data.fecumod,activo:e.data.activo}),t.scheduleartists=t.schedules.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeSchedule(),t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.fullname,this.adId=e.id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};l.a.put("api/Preselectartists/Activar/"+t.adId,{},a).then((function(){t.snacktext="Activated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail(t.editedPreselect.id)})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};l.a.put("api/Preselectartists/Desactivar/"+t.adId,{},a).then((function(){t.snacktext="Inactivated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listarDetail(t.editedPreselect.id)})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}))},onFileSelected:function(t){var e=this,a=t.target.files;if(void 0!==a[0]){if(this.imageName=a[0].name,this.imageExt=a[0].name.slice(2+(a[0].name.lastIndexOf(".")-1>>>0)),this.file=a[0],this.imageName.lastIndexOf(".")<=0)return;var s=new FileReader;s.readAsDataURL(a[0]),s.addEventListener("load",(function(){e.imageUrl=s.result,e.imageFile=a[0];var t=Date.now().toString(16)+Math.random().toString(16)+"0".repeat(16);e.guid=[t.substr(0,8),t.substr(8,4),t.substr(13,3),t.substr(16,12)].join("")+"."+e.imageExt,e.imgartist=e.guid}))}else this.imageName="",this.imageExt="",this.imageFile="",this.imageUrl=""},onUpload:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=new FormData,a.append("image",t.file,t.imgartist),s={headers:{Authorization:"Bearer "+t.$store.state.token,"Content-Type":"image/jpeg"}},e.next=5,l.a.post("api/Express/UploadFiles",a,s).then((function(e){t.file="",console.log(e.data)})).catch((function(e){t.dialog=!1,t.guid="",t.imgartist="",t.snacktext="Se detectó un error. Código: "+e.response.status,t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()}));case 5:case"end":return e.stop()}}),e)})))()},onDelete:function(t){var e=this,a={Authorization:"Bearer "+this.$store.state.token},s={headers:a};l.a.delete("api/Express/DeleteFile/"+t,s).then((function(t){console.log(t.data)})).catch((function(t){console.log(t),401==t.response.status&&e.salir()}))}}},d=c,u=a("2877"),v=a("6544"),f=a.n(v),m=a("8212"),h=a("8336"),p=a("b0af"),k=a("99d9"),g=a("cc20"),b=a("62ad"),x=a("a523"),_=a("8fea"),C=a("2e4b"),y=a("169a"),w=a("ce7e"),S=a("7679"),A=a("4bd4"),I=a("132d"),D=a("adda"),F=a("a722"),N=a("e449"),V=a("1d4d"),P=a("0fd9"),R=a("b974"),E=a("9e88"),U=a("2db4"),$=a("2fa4"),O=a("8654"),B=a("71d9"),M=a("2a7f"),T=a("3a2f"),z=Object(u["a"])(d,s,i,!1,null,null,null);e["default"]=z.exports;f()(z,{VAvatar:m["a"],VBtn:h["a"],VCard:p["a"],VCardActions:k["a"],VCardText:k["b"],VCardTitle:k["c"],VChip:g["a"],VCol:b["a"],VContainer:x["a"],VDataTable:_["a"],VDatePicker:C["a"],VDialog:y["a"],VDivider:w["a"],VEditDialog:S["a"],VForm:A["a"],VIcon:I["a"],VImg:D["a"],VLayout:F["a"],VMenu:N["a"],VRating:V["a"],VRow:P["a"],VSelect:R["a"],VSimpleCheckbox:E["a"],VSnackbar:U["a"],VSpacer:$["a"],VTextField:O["a"],VToolbar:B["a"],VToolbarTitle:M["a"],VTooltip:T["a"]})}}]);
//# sourceMappingURL=preview.0adcbad0.js.map