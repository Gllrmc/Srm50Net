(function(t){function e(e){for(var o,i,n=e[0],l=e[1],c=e[2],d=0,v=[];d<n.length;d++)i=n[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&v.push(s[i][0]),s[i]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(v.length)v.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var t,e=0;e<r.length;e++){for(var a=r[e],o=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(o=!1)}o&&(r.splice(e--,1),t=n(n.s=a[0]))}return t}var o={},s={app:0},r=[];function i(t){return n.p+"js/"+({about:"about"}[t]||t)+"."+{about:"84fd1e3d","chunk-2d216214":"a631c492","chunk-2d216257":"d8c9bc89","chunk-5050bdf0":"468c22e7"}[t]+".js"}function n(e){if(o[e])return o[e].exports;var a=o[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.e=function(t){var e=[],a=s[t];if(0!==a)if(a)e.push(a[2]);else{var o=new Promise((function(e,o){a=s[t]=[e,o]}));e.push(a[2]=o);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,n.nc&&l.setAttribute("nonce",n.nc),l.src=i(t);var c=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=s[t];if(0!==a){if(a){var o=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;c.message="Loading chunk "+t+" failed.\n("+o+": "+r+")",c.name="ChunkLoadError",c.type=o,c.request=r,a[1](c)}s[t]=void 0}};var d=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},n.m=t,n.c=o,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(a,o,function(e){return t[e]}.bind(null,o));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=c;r.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2bcf":function(t,e,a){t.exports=a.p+"img/logo1staveba.85986307.jpg"},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var o=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[t.logueado?a("v-navigation-drawer",{attrs:{fixed:"",clipped:t.$vuetify.breakpoint.mdAndUp,app:""},model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[a("v-list",{attrs:{dense:""}},[t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esLiderProyecto||t.esConsultor||t.esDataentry?[a("v-list-item",{attrs:{to:{name:"home"}}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"secondary"}},[t._v("mdi-home")])],1),a("v-list-item-title",[t._v(" Home ")])],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esLiderProyecto||t.esConsultor||t.esDataentry?[a("v-list-item",{attrs:{to:{name:"artists"}}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-video-vintage")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Artists ")])],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esLiderProyecto||t.esConsultor||t.esDataentry?[a("v-list-item",{attrs:{to:{name:"actividades"}}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-pin")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Check-In sets ")])],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esLiderProyecto||t.esConsultor||t.esDataentry?[a("v-list-item",{attrs:{to:{name:"skills"}}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-shape-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Skills ")])],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esLiderProyecto||t.esConsultor||t.esDataentry?[a("v-list-item",{attrs:{to:{name:"usuarios"}}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-account-multiple-outline")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Team ")])],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion||t.esLiderProyecto||t.esConsultor||t.esDataentry?[a("v-list-item",{attrs:{to:{name:"roles"}}},[a("v-list-item-action",[a("v-icon",{attrs:{color:"primary"}},[t._v("mdi-passport")])],1),a("v-list-item-content",[a("v-list-item-title",[t._v(" Access ")])],1)],1)]:t._e(),t.esAdministrador||t.esJefeAdministracion||t.esAsistAdministracion?void 0:t._e()],2)],1):t._e(),a("v-app-bar",{attrs:{color:"primary",dark:"",app:"","clipped-left":t.$vuetify.breakpoint.mdAndUp,fixed:""}},[a("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),a("v-toolbar-title",{staticClass:"ml-0 pl-4",staticStyle:{width:"500px"}},[a("span",{staticClass:"hidden-sm-and-down"},[t._v("MAnA - Multimedia Artists & Animators")])]),a("v-spacer"),t.logueado?a("div",{staticClass:"mr-10"},[this.$store.state.userinfo.imgusuario?a("div",[a("v-avatar",{attrs:{size:"50"}},[a("v-img",{attrs:{src:this.$store.state.userinfo.imgusuario,"aspect-ratio":"2",contain:""}})],1)],1):a("div",["black"==this.$store.state.userinfo.coltexto?a("v-avatar",{attrs:{color:this.$store.state.userinfo.colfondo,size:"50"}},[a("span",{staticStyle:{color:"black"}},[t._v(t._s(this.$store.state.userinfo.iniciales))])]):a("v-avatar",{attrs:{color:this.$store.state.userinfo.colfondo,size:"50"}},[a("span",{staticStyle:{color:"white"}},[t._v(t._s(this.$store.state.userinfo.iniciales))])])],1)]):t._e(),t.logueado?a("v-btn",{on:{click:t.salir}},[a("v-icon",[t._v("mdi-logout")]),t._v(" Exit ")],1):a("v-btn",{attrs:{to:{name:"login"}}},[a("v-icon",[t._v("mdi-apps")]),t._v(" Login ")],1)],1),a("v-main",[a("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[a("v-slide-y-transition",{attrs:{mode:"out-in"}},[a("v-layout",[a("router-view")],1)],1)],1)],1),a("v-footer",{attrs:{app:"",height:"70"}},[a("v-col",{staticClass:"text-center",attrs:{col:"12"}},[a("v-card",{attrs:{flat:"",tile:"",color:"primary"}},[a("p",{staticClass:"mb-2 white--text font-weight-bold"},[t._v(" ©2021 Akiel Consultoría en Gestión de Negocios. Todos los Derechos Reservados. Version 1.10 ")])])],1)],1)],1)},r=[],i=a("bc3a"),n=a.n(i),l={name:"App",data:function(){return{clipped:!1,drawer:!0}},computed:{logueado:function(){return this.$store.state.usuario},esAdministrador:function(){return this.$store.state.usuario&&"Administrador"==this.$store.state.usuario.rol},esJefeAdministracion:function(){return this.$store.state.usuario&&"JefeAdministracion"==this.$store.state.usuario.rol},esAsistAdministracion:function(){return this.$store.state.usuario&&"AsistAdministracion"==this.$store.state.usuario.rol},esLiderProyecto:function(){return this.$store.state.usuario&&"LiderProyecto"==this.$store.state.usuario.rol},esConsultor:function(){return this.$store.state.usuario&&"Consultor"==this.$store.state.usuario.rol},esDataentry:function(){return this.$store.state.usuario&&"Dataentry"==this.$store.state.usuario.rol}},created:function(){this.$store.dispatch("autoLogin"),this.buscarUserinfo()},methods:{salir:function(){this.$store.dispatch("salir")},buscarUserinfo:function(){var t=this,e=this,a={Authorization:"Bearer "+e.$store.state.token},o={headers:a};n.a.get("api/Usuarios/Traer/"+e.$store.state.usuario.idusuario,o).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarUserinfo",e)})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t)}))}}},c=l,d=(a("fc37"),a("2877")),u=a("6544"),v=a.n(u),m=a("7496"),f=a("40dc"),p=a("5bc1"),h=a("8212"),k=a("8336"),g=a("b0af"),b=a("62ad"),x=a("a523"),_=a("553a"),y=a("132d"),C=a("adda"),w=a("a722"),A=a("8860"),I=a("da13"),S=a("1800"),V=a("5d23"),F=a("f6c4"),D=a("f774"),R=a("0789"),$=a("2fa4"),N=a("2a7f"),j=Object(d["a"])(c,s,r,!1,null,"7e7c93d2",null),P=j.exports;v()(j,{VApp:m["a"],VAppBar:f["a"],VAppBarNavIcon:p["a"],VAvatar:h["a"],VBtn:k["a"],VCard:g["a"],VCol:b["a"],VContainer:x["a"],VFooter:_["a"],VIcon:y["a"],VImg:C["a"],VLayout:w["a"],VList:A["a"],VListItem:I["a"],VListItemAction:S["a"],VListItemContent:V["a"],VListItemTitle:V["b"],VMain:F["a"],VNavigationDrawer:D["a"],VSlideYTransition:R["f"],VSpacer:$["a"],VToolbarTitle:N["a"]});a("d3b7"),a("3ca3"),a("ddb0");var U=a("8c4f"),M=a("2f62"),E=a("1232");o["a"].use(M["a"]);var T=new M["a"].Store({state:{token:null,usuario:null,userinfo:[]},mutations:{setToken:function(t,e){t.token=e},setUsuario:function(t,e){t.usuario=e},setUserinfo:function(t,e){t.userinfo=e}},actions:{guardarToken:function(t,e){var a=t.commit;a("setToken",e),a("setUsuario",Object(E["a"])(e)),localStorage.setItem("token",e)},guardarUserinfo:function(t,e){var a=t.commit;a("setUserinfo",e)},autoLogin:function(t){var e=t.commit,a=localStorage.getItem("token");a&&(e("setToken",a),e("setUsuario",Object(E["a"])(a))),Ht.push({name:"home"})},salir:function(t){var e=t.commit;e("setToken",null),e("setUsuario",null),localStorage.removeItem("token"),Ht.push({name:"login"})}},modules:{}}),B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("AkielWorld")},L=[],z=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("v-container",[[o("v-snackbar",{attrs:{timeout:t.timeout,absolute:"",top:"",app:"",right:"",color:t.snackcolor},scopedSlots:t._u([{key:"action",fn:function(e){var a=e.attrs;return[o("v-btn",t._b({attrs:{color:"#FFFFFF",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",a,!1),[t._v(" CLOSE ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snacktext)+" ")])],o("v-layout",{attrs:{"justify-center":""}},[o("v-card",{attrs:{width:"590",tile:"",flat:""}},[o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-img",{attrs:{src:a("2bcf"),"aspect-ratio":"2"}})],1),o("v-card-text",[o("div",[o("p",{staticClass:"title font-weight primary--text pl-1"},[t._v("Powered by Akiel ")]),o("p",{staticClass:"font-weight-bold pl-1"},[t._v(" Sales contact: Lucio Andres +54 (911) 3561-4639"),o("br"),t._v(" IT/IS contact: Guillermo Cristobal +54 (911) 3560-0383"),o("br"),t._v(" or check our "),o("a",{attrs:{href:"https://akiel.com.ar",target:"_blank"}},[t._v("Website")])])])])],1),o("v-dialog",{attrs:{"max-width":"600px",persistent:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[o("v-toolbar",{attrs:{color:"indigo",dark:""}},[o("v-app-bar-nav-icon"),o("v-toolbar-title",[t._v("Cambio de Password Requerido")]),o("v-spacer"),o("v-btn",{attrs:{icon:""}},[o("v-icon",[t._v("verified_user")])],1)],1),o("v-card",[o("v-card-title",[o("span",{staticClass:"headline"})]),o("v-card-text",[o("v-container",{staticClass:"elevation-12",attrs:{color:"primary","grid-list-md":""}},[o("v-row",{attrs:{dense:""}},[o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-text-field",{attrs:{type:"password",label:"Password Actual"},model:{value:t.actualpassword,callback:function(e){t.actualpassword=e},expression:"actualpassword"}})],1),o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-text-field",{attrs:{type:"password",label:"Nueva Password",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),o("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[o("v-text-field",{attrs:{type:"password",label:"Confirmar Password",required:""},model:{value:t.retypepassword,callback:function(e){t.retypepassword=e},expression:"retypepassword"}})],1)],1),o("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{cols:"12",sm:"12",md:"12"}},t._l(t.validaMensaje,(function(e){return o("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1),o("v-card-actions",[o("v-spacer"),o("v-btn",{attrs:{color:"primary",text:""},on:{click:t.salir}},[t._v("Cancelar")]),o("v-btn",{attrs:{color:"primary",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1)],1)],2)},O=[],K={name:"AkielWorld",data:function(){return{snackbar:!1,snackcolor:"",snacktext:"",timeout:4e3,actualpassword:"",password:"",retypepassword:"",dialog:!1,validaMensaje:[],valida:0}},watch:{dialog:function(t){t||this.closeForm()}},created:function(){this.inicializar()},methods:{inicializar:function(){var t=this;t.dialog="SI"==t.$store.state.usuario.pxch,t.actualpassword="",t.password="",t.retypepassword=""},salir:function(){this.$store.dispatch("salir")},closeForm:function(){this.dialog=!1},guardar:function(){var t=this;if(!this.validar()){var e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.put("api/Usuarios/Pxch",{Id:t.$store.state.usuario.idusuario,oldpassword:t.actualpassword,newpassword:t.password},a).then((function(){t.salir()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackbar=!0,t.snackcolor="error",console.log(e)}))}},validar:function(){return this.valida=0,this.validaMensaje=[],this.password!==this.retypepassword&&this.validaMensaje.push("No hay coincidencia en la verificacacón de Passwords."),this.password.length<6&&this.validaMensaje.push("El password debe poseer al menos 6 caracteres alfanumericos y/o especiales."),this.validaMensaje.length&&(this.valida=1),this.valida}}},W=K,q=a("99d9"),G=a("169a"),J=a("0fd9"),Y=a("2db4"),H=a("8654"),X=a("71d9"),Q=Object(d["a"])(W,z,O,!1,null,null,null),Z=Q.exports;v()(Q,{VAppBarNavIcon:p["a"],VBtn:k["a"],VCard:g["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VCol:b["a"],VContainer:x["a"],VDialog:G["a"],VIcon:y["a"],VImg:C["a"],VLayout:w["a"],VRow:J["a"],VSnackbar:Y["a"],VSpacer:$["a"],VTextField:H["a"],VToolbar:X["a"],VToolbarTitle:N["a"]});var tt={name:"Home",components:{AkielWorld:Z}},et=tt,at=Object(d["a"])(et,B,L,!1,null,null,null),ot=at.exports,st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-main",[a("v-container",{staticClass:"grey lighten-5",attrs:{fluid:""}},[a("v-row",{attrs:{align:"center",justify:"center"}},[a("v-col",{attrs:{cols:"12",sm:"8",md:"4"}},[a("v-card",{staticClass:"elevation-12"},[a("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[a("v-toolbar-title",[t._v("Log In")]),a("v-spacer")],1),a("v-card-text",{staticClass:"elevation-12"},[a("v-form",[a("v-text-field",{attrs:{color:"accent",label:"Email","prepend-icon":"mdi-account",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("v-text-field",{attrs:{type:"password",color:"accent",label:"Password","prepend-icon":"mdi-lock",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),t.error?a("v-row",{staticClass:"red--text"},[t._v(" "+t._s(t.error)+" ")]):t._e()],1),a("v-card-actions",{staticClass:"elevation-12"},[a("v-spacer"),a("v-btn",{attrs:{color:"primary"},on:{click:t.ingresar}},[t._v("Enter")])],1)],1)],1)],1)],1)],1)},rt=[],it={data:function(){return{snackbar:!1,snackcolor:"",snacktext:"",timeout:4e3,source:String,email:"",password:"",userinfo:[],error:null}},methods:{ingresar:function(){var t=this;this.error=null,n.a.post("api/Usuarios/Login",{email:this.email,password:this.password}).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarToken",e.token),t.buscarUserinfo(),t.$router.push({name:"home"})})).catch((function(e){console.log(e.response),400==e.response.status?t.error="Invalid email or role without permission":404==e.response.status?t.error="Wrong credentials":t.error="An error occurred",console.log(e)}))},buscarUserinfo:function(){var t=this,e=this,a={Authorization:"Bearer "+e.$store.state.token},o={headers:a};n.a.get("api/Usuarios/Traer/"+e.$store.state.usuario.idusuario,o).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarUserinfo",e)})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t)}))}}},nt=it,lt=a("4bd4"),ct=Object(d["a"])(nt,st,rt,!1,null,null,null),dt=ct.exports;v()(ct,{VBtn:k["a"],VCard:g["a"],VCardActions:q["a"],VCardText:q["b"],VCol:b["a"],VContainer:x["a"],VForm:lt["a"],VMain:F["a"],VRow:J["a"],VSpacer:$["a"],VTextField:H["a"],VToolbar:X["a"],VToolbarTitle:N["a"]});var ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{align:"start"}},[[a("v-snackbar",{attrs:{timeout:t.timeout,absolute:"",top:"",app:"",right:"",color:t.snackcolor},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[a("v-btn",t._b({attrs:{color:"#FFFFFF",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v(" CLOSE ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snacktext)+" ")])],a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{dense:"",headers:t.headers,items:t.roles,search:t.search,"no-data-text":"Nada para mostrar"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("div",{staticClass:"ma-2"},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("mdi-printer")])],1)],1),a("v-toolbar-title",[t._v("Roles")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-dialog",{attrs:{"max-width":"290"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Rol?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Bloquear Rol?")]):t._e(),a("v-card-text",[t._v(" You are about to "),1==t.adAccion?a("span",[t._v("Activate ")]):t._e(),2==t.adAccion?a("span",[t._v("Inactivate ")]):t._e(),t._v(" the Role: "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:t.activarDesactivarCerrar}},[t._v("Cancel "),a("v-icon",[t._v("mdi-cancel")])],1),1==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.activar}},[t._v("Activate "),a("v-icon",[t._v("mdi-lock-open")])],1):t._e(),2==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.desactivar}},[t._v("Inactivate "),a("v-icon",[t._v("mdi-lock")])],1):t._e()],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[o.activo?[a("v-icon",t._g(t._b({staticClass:"mr-2",on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},"v-icon",r,!1),s),[t._v(" mdi-eye-off ")])]:[a("v-icon",t._g(t._b({staticClass:"mr-2",on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},"v-icon",r,!1),s),[t._v(" mdi-eye ")])]]}}],null,!0)},[a("span",[t._v("Act/Ina")])])]}},{key:"item.activo",fn:function(e){var o=e.item;return[a("td",[o.activo?a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Active")])],1):a("div",[a("v-chip",{staticClass:"ma-2"},[t._v("Dormant")])],1)])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reset")])]},proxy:!0}],null,!0)})],1)],2)},vt=[],mt=(a("d81d"),a("8baf")),ft=(a("0da4"),{data:function(){return{snackbar:!1,snacktext:"",snackcolor:"",timeout:4e3,roles:[],dialog:!1,headers:[{text:"Role",value:"nombre",align:"start",sortable:!0},{text:"Description",value:"nombre",align:"start",sortable:!0},{text:"Status",value:"activo",align:"start",sortable:!1},{text:"[Options]",value:"actions",align:"center",sortable:!1}],search:"",adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{},watch:{},created:function(){this.listar()},methods:{crearPDF:function(){var t=[{title:"Role",dataKey:"nombre"},{title:"Description",dataKey:"descripcion"},{title:"Active",dataKey:"activo"}],e=[];this.roles.map((function(t){e.push({nombre:t.nombre,descripcion:t.descripcion,activo:t.activo})}));var a=new mt["default"];a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Listado de Roles",40,30)}}),a.save("Roles.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.get("api/Roles/Listar",a).then((function(e){t.roles=e.data})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackbar=!0,t.snackcolor="error",console.log(e)}))},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.nombre,this.adId=e.id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.put("api/Roles/Activar/"+this.adId,{},a).then((function(){t.snacktext="Activated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackbar=!0,t.snackcolor="error",console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.put("api/Roles/Desactivar/"+this.adId,{},a).then((function(){t.snacktext="Inactivated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackbar=!0,t.snackcolor="error",console.log(e)}))}}}),pt=ft,ht=a("cc20"),kt=a("8fea"),gt=a("ce7e"),bt=a("3a2f"),xt=Object(d["a"])(pt,ut,vt,!1,null,null,null),_t=xt.exports;v()(xt,{VBtn:k["a"],VCard:g["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VChip:ht["a"],VCol:b["a"],VDataTable:kt["a"],VDialog:G["a"],VDivider:gt["a"],VIcon:y["a"],VRow:J["a"],VSnackbar:Y["a"],VSpacer:$["a"],VToolbar:X["a"],VToolbarTitle:N["a"],VTooltip:bt["a"]});var yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{align:"start"}},[[a("v-snackbar",{attrs:{timeout:t.timeout,absolute:"",top:"",app:"",right:"",color:t.snackcolor},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[a("v-btn",t._b({attrs:{color:"#FFFFFF",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v(" CLOSE ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snacktext)+" ")])],a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-data-table",{staticClass:"elevation-1 blue-grey lighten-5",attrs:{dense:"",headers:t.headersskills,items:t.skills,search:t.searchs,"no-data-text":"Nothing to Show"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("div",{staticClass:"ma-2"},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("mdi-printer")])],1)],1),a("v-toolbar-title",[t._v("Skills")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{dense:"",label:"Search",outlined:"","append-icon":"mdi-magnify","single-line":"","hide-details":"",clearable:""},model:{value:t.searchs,callback:function(e){t.searchs=e},expression:"searchs"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("NEW")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-container",{staticClass:"grey lighten-5",attrs:{"grid-list-md":""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Skill name",counter:"32",rules:t.nameRules},model:{value:t.skill,callback:function(e){t.skill=e},expression:"skill"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-switch",{staticClass:"mx-2",attrs:{dense:"",label:"Main Role?"},model:{value:t.ismainrole,callback:function(e){t.ismainrole=e},expression:"ismainrole"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.close}},[t._v("CANCEL")]),a("v-btn",{attrs:{color:"secondary",dark:"",disabled:!t.validForm,text:""},on:{click:t.guardar}},[t._v("SAVE")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"390"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Active Skill?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Inactivate Skill?")]):t._e(),a("v-card-text",[t._v(" You are about to "),1==t.adAccion?a("span",[t._v("Activate ")]):t._e(),2==t.adAccion?a("span",[t._v("Inactivate ")]):t._e(),t._v(" the Skill: "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:t.activarDesactivarCerrar}},[t._v("Cancel "),a("v-icon",[t._v("mdi-cancel")])],1),1==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.activar}},[t._v("Activate "),a("v-icon",[t._v("mdi-lock-open")])],1):t._e(),2==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.desactivar}},[t._v("Inactivate "),a("v-icon",[t._v("mdi-lock")])],1):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.recordInfo,callback:function(e){t.recordInfo=e},expression:"recordInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Item Info")]),a("v-card-text",[a("p",[a("b",[t._v("Creation:")])]),t._v(" "+t._s(t.iduseralta)),a("br"),t._v(" "+t._s(t.fecalta)+" "),a("p"),a("p",[a("b",[t._v("Last Update':")])]),t._v(" "+t._s(t.iduserumod)),a("br"),t._v(" "+t._s(t.fecumod)),a("br")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:function(e){t.recordInfo=!1}}},[t._v("Exit "),a("v-icon",[t._v("mdi-cancel")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",on:{click:function(e){return t.editItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[t._v("Edit")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",on:{click:function(e){return t.deleteItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-delete ")])]}}],null,!0)},[a("span",[t._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[o.activo?[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},"v-icon",r,!1),s),[t._v(" mdi-eye-off ")])]:[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},"v-icon",r,!1),s),[t._v(" mdi-eye ")])]]}}],null,!0)},[a("span",[t._v("Act/Ina")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"font-weight-bold",attrs:{small:""},on:{click:function(e){return t.infoItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-information-outline ")])]}}],null,!0)},[a("span",[t._v("Info")])])]}},{key:"item.ismainrole",fn:function(e){var o=e.item;return[a("td",[o.ismainrole?a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Yes")])],1):a("div",[a("v-chip",{staticClass:"ma-2"},[t._v("No")])],1)])]}},{key:"item.activo",fn:function(e){var o=e.item;return[a("td",[o.activo?a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Active")])],1):a("div",[a("v-chip",{staticClass:"ma-2"},[t._v("Dormant")])],1)])]}},{key:"item.fecalta",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.fecalta.substr(0,16)))])]}},{key:"item.fecumod",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reset")])]},proxy:!0}],null,!0)})],1)],2)},Ct=[],wt=(a("b0c0"),a("c740"),a("b680"),a("a9e3"),{data:function(){return{validForm:!1,nameRules:[function(t){return!!t||"Name is required"},function(t){return t&&t.length<=32||"Name must be less than 32 characters"}],up3:"AAA",colores:[{value:"#F44336",text:"Rojo"},{value:"#E91E63",text:"Rosa"},{value:"#9C27B0",text:"Violeta"},{value:"#673AB7",text:"Violeta oscuro"},{value:"#3F51B5",text:"Indigo"},{value:"#2196F3",text:"Azul"},{value:"#03A9F4",text:"Celeste"},{value:"#00BCD4",text:"Cianico"},{value:"#009688",text:"Turquesa"},{value:"#4CAF50",text:"Verde"},{value:"#8BC34A",text:"Verde claro"},{value:"#CDDC39",text:"Lima"},{value:"#FFEB3B",text:"Amarillo"},{value:"#FFC107",text:"Ambar"},{value:"#FF9800",text:"Naranja"},{value:"#FF5722",text:"Naranja oscuro"},{value:"#795548",text:"Marron"},{value:"#607D8B",text:"Lívido"},{value:"#9E9E9E",text:"Gris"},{value:"#000000",text:"Negro"},{value:"#FFFFFF",text:"Blanco"}],textos:[{value:"white",text:"Blanco"},{value:"black",text:"Negro"}],snackbar:!1,snackcolor:"",snacktext:"",timeout:2e3,recordInfo:0,skills:[],usuarios:[],artistas:[],proyectos:[],proyectogrupos:[],workgroupId:"",imageUrl:"",userheader:"",proyheader:"",dialog:!1,userdialog:!1,proydialog:!1,headersskills:[{text:"Skill Name",value:"skill",align:"start",sortable:!0},{text:"Main Role?",value:"ismainrole",align:"start",sortable:!0},{text:"Status",value:"activo",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1}],headersusuarios:[{text:"#",value:"selected",align:"center",sortable:!1},{text:"Avatar",value:"imgusuario",align:"center",sortable:!1},{text:"Userid",value:"userid",align:"start",sortable:!0},{text:"email",value:"email",align:"start",sortable:!0}],headersproyectos:[{text:"#",value:"selected",align:"center",sortable:!1},{text:"Proyecto",value:"skill",align:"start",sortable:!0},{text:"Tarifa",value:"tarifaproyectogrupo",align:"end",sortable:!0},{text:"Costo",value:"costoproyectogrupo",align:"end",sortable:!0},{text:"Notas",value:"notas",align:"start",sortable:!0}],searchs:"",searchp:"",searchu:"",editedIndex:-1,id:"",skill:"",ismainrole:!1,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:!1,colfondo:"#000000",coltexto:"black",imgusuario:"",adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{formTitle:function(){return-1===this.editedIndex?"New skill":"Update skill"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.select(),this.listar()},methods:{salir:function(){this.$store.dispatch("salir")},save:function(){},cancel:function(){},pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this,a=t.target.files;if(void 0!==a[0]){if(this.imageName=a[0].name,this.imageName.lastIndexOf(".")<=0)return;var o=new FileReader;o.readAsDataURL(a[0]),o.addEventListener("load",(function(){e.imageUrl=o.result,e.imageFile=a[0],e.imgusuario=e.imageUrl}))}else this.imageName="",this.imageFile="",this.imageUrl=""},clearImagen:function(){this.imageUrl="",this.imgusuario=""},crearPDF:function(){var t=[{title:"Skill name",dataKey:"skill"},{title:"Mani Role",dataKey:"ismainrole"},{title:"Active",dataKey:"activo"}],e=[];this.skills.map((function(t){e.push({skill:t.skill,ismainrole:t.ismainrol?"SI":"NO",activo:t.activo})}));var a=new mt["default"]("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Listado de Skills",40,30)}}),a.save("Skills.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.get("api/Skills/Listar",a).then((function(e){t.skills=e.data})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackbar=!0,t.snackcolor="error",console.log(e)}))},select:function(){var t=this,e=[],a=[],o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};n.a.get("api/Usuarios/Listar",s).then((function(a){e=a.data,e.map((function(e){t.usuarios.push({selected:!1,iduseralta:e.iduseralta,iduserumod:e.iduserumod,imgusuario:e.imgusuario,colfondo:e.colfondo,coltexto:e.coltexto,email:e.email,iniciales:e.iniciales,nombre:e.nombre,apellido:e.apellido,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()})),n.a.get("api/Artists/Listar",s).then((function(e){a=e.data,a.map((function(e){t.artists.push({grupoid:e.grupoid,usuarioid:e.usuarioid,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},editItem:function(t){this.id=t.id,this.skill=t.skill,this.ismainrole=t.ismainrole,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.activo=t.activo,this.editedIndex=1,this.userdialog=!1,this.dialog=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var o={Authorization:"Bearer "+e.$store.state.token},s={headers:o};n.a.delete("api/Skills/Eliminar/"+t.id,s).then((function(){e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0,e.close(),e.listar()})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t)}))}},infoItem:function(t){var e=this.usuarios.findIndex((function(e){return e.iduseralta===t.iduseralta}));this.iduseralta=this.usuarios[e].email+" ("+this.usuarios[e].nombre+" "+this.usuarios[e].apellido+")",this.fecalta=t.fecalta,this.iduserumod=this.usuarios[e].email+" ("+this.usuarios[e].nombre+" "+this.usuarios[e].apellido+")",this.fecumod=t.fecumod,this.recordInfo=!0},closeInfo:function(){this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.recordInfo=!1},close:function(){this.dialog=!1,this.limpiar()},accionProyecto:function(){},editProyecto:function(t){var e=this,a=0;a=e.proyectogrupos.findIndex((function(e){return e.value===t.relid}));var o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};n.a.put("api/Proyectogrupos/Actualizar",{Id:t.relid,grupoid:this.workuserId,proyectoid:t.value,tarifaproyectogrupo:t.tarifaproyectogrupo,costoproyectogrupo:t.costoproyectogrupo,notas:t.notas,iduseralta:e.$store.state.usuario.idusuario},s).then((function(){e.proyectogrupos[a].tarifaproyectogrupo=Number(t.tarifaproyectogrupo).toFixed(2),e.proyectogrupos[a].costoproyectogrupo=Number(t.costoproyectogrupo),e.proyectogrupos[a].notas=t.notas,e.snacktext="Updated",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t)}))},limpiar:function(){this.id="",this.skill="",this.ismainrole=!1,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.activo=!1,this.validForm=!1,this.userdialog=!1,this.editedIndex=-1},guardar:function(){var t={Authorization:"Bearer "+this.$store.state.token},e={headers:t};if(this.editedIndex>-1){var a=this;n.a.put("api/Skills/Actualizar",{Id:a.id,skill:a.skill,ismainrole:a.ismainrole,iduserumod:a.$store.state.usuario.idusuario},e).then((function(){a.snacktext="Updated",a.snackcolor="success",a.snackbar=!0,a.close(),a.listar(),a.limpiar()})).catch((function(t){a.snacktext="An error was detected. Code: "+t.response.status,a.snackbar=!0,a.snackcolor="error",console.log(t)}))}else{var o=this;n.a.post("api/Skills/Crear",{skill:o.skill,ismainrole:o.ismainrol,iduseralta:o.$store.state.usuario.idusuario},e).then((function(){o.snacktext="Created",o.snackcolor="success",o.snackbar=!0,o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="An error was detected. Code: "+t.response.status,o.snackbar=!0,o.snackcolor="error",console.log(t)}))}},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.userid,this.adId=e.id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.put("api/Skills/Activar/"+this.adId,{},a).then((function(){t.snacktext="Activated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.put("api/Skills/Desactivar/"+this.adId,{},a).then((function(){t.snacktext="Inactivated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))}}}),At=wt,It=a("b73d"),St=Object(d["a"])(At,yt,Ct,!1,null,null,null),Vt=St.exports;v()(St,{VBtn:k["a"],VCard:g["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VChip:ht["a"],VCol:b["a"],VContainer:x["a"],VDataTable:kt["a"],VDialog:G["a"],VDivider:gt["a"],VForm:lt["a"],VIcon:y["a"],VRow:J["a"],VSnackbar:Y["a"],VSpacer:$["a"],VSwitch:It["a"],VTextField:H["a"],VToolbar:X["a"],VToolbarTitle:N["a"],VTooltip:bt["a"]});var Ft=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{attrs:{align:"start"}},[[a("v-snackbar",{attrs:{timeout:t.timeout,absolute:"",top:"",app:"",right:"",color:t.snackcolor},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[a("v-btn",t._b({attrs:{color:"#FFFFFF",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v(" CLOSE ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snacktext)+" ")])],a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-data-table",{staticClass:"elevation-1 blue-grey lighten-5",attrs:{dense:"",headers:t.headersusuarios,items:t.usuarios,search:t.searchu,"no-data-text":"Nothing to show"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("div",{staticClass:"ma-2"},[a("v-btn",{attrs:{small:""},on:{click:function(e){return t.crearPDF()}}},[a("v-icon",[t._v("mdi-printer")])],1)],1),a("v-toolbar-title",[t._v("Team")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-text-field",{attrs:{dense:"",label:"Search",outlined:"",clearable:"","append-icon":"mdi-magnify","single-line":"","hide-details":""},model:{value:t.searchu,callback:function(e){t.searchu=e},expression:"searchu"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("NEW")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-container",{staticClass:"grey lighten-5",attrs:{"grid-list-md":""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"First Name",counter:"100"},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"Last Name",counter:"100"},model:{value:t.apellido,callback:function(e){t.apellido=e},expression:"apellido"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{directives:[{name:"mask",rawName:"v-mask",value:t.up3,expression:"up3"}],attrs:{dense:"",label:"Initials",counter:"3"},model:{value:t.iniciales,callback:function(e){t.iniciales=e},expression:"iniciales"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{dense:"",items:t.roles,label:"Role"},model:{value:t.rolid,callback:function(e){t.rolid=e},expression:"rolid"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"Email",counter:"50"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",type:"password",label:"Password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"Mobile",counter:"20"},model:{value:t.telefono,callback:function(e){t.telefono=e},expression:"telefono"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{dense:"",items:t.lineaspags,label:"# rows per page"},model:{value:t.lineaspag,callback:function(e){t.lineaspag=e},expression:"lineaspag"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{dense:"",items:t.textos,label:"Text color"},model:{value:t.coltexto,callback:function(e){t.coltexto=e},expression:"coltexto"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-select",{attrs:{dense:"",items:t.colores,label:"Back color"},model:{value:t.colfondo,callback:function(e){t.colfondo=e},expression:"colfondo"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},["black"==t.coltexto?a("v-avatar",{staticClass:"ml-2",attrs:{color:t.colfondo,size:"40"}},[a("span",{staticStyle:{color:"black"}},[t._v(t._s(t.iniciales))])]):a("v-avatar",{staticClass:"ml-2",attrs:{color:t.colfondo,size:"40"}},[a("span",{staticStyle:{color:"white"}},[t._v(t._s(t.iniciales))])])],1),a("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[a("v-layout",{attrs:{column:""}},[a("v-avatar",{staticClass:"ml-2",attrs:{size:"40"}},[a("v-img",{attrs:{src:t.imageUrl,"aspect-ratio":"2",contain:""}})],1),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputUpload1",attrs:{type:"file"},on:{change:t.onFilePicked}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",color:"primary"},on:{click:function(e){return t.$refs.inputUpload1.click()}}},[a("v-icon",{attrs:{dense:"",dark:""}},[t._v(" mdi-plus ")])],1),a("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",color:"primary"},on:{click:t.clearImagen}},[a("v-icon",{attrs:{dense:"",dark:""}},[t._v(" mdi-delete ")])],1)],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6"}},[a("v-switch",{staticClass:"mx-2",attrs:{dense:"",label:"Change password"},model:{value:t.pxch,callback:function(e){t.pxch=e},expression:"pxch"}})],1),a("v-col",{directives:[{name:"show",rawName:"v-show",value:t.valida,expression:"valida"}],attrs:{cols:"12",sm:"12",md:"12"}},t._l(t.validaMensaje,(function(e){return a("div",{key:e,staticClass:"red--text",domProps:{textContent:t._s(e)}})})),0)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.close}},[t._v("Cancelar")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.guardar}},[t._v("Guardar")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"390"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Miembro?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Bloquear Miembro?")]):t._e(),a("v-card-text",[t._v(" You are about to "),1==t.adAccion?a("span",[t._v("Activate ")]):t._e(),2==t.adAccion?a("span",[t._v("Inactivate ")]):t._e(),t._v(" the team member: "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:t.activarDesactivarCerrar}},[t._v("Cancel "),a("v-icon",[t._v("mdi-cancel")])],1),1==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.activar}},[t._v("Activate "),a("v-icon",[t._v("mdi-lock-open")])],1):t._e(),2==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.desactivar}},[t._v("Inactivate "),a("v-icon",[t._v("mdi-lock")])],1):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400"},model:{value:t.recordInfo,callback:function(e){t.recordInfo=e},expression:"recordInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Item info")]),a("v-card-text",[a("p",[a("b",[t._v("Created by:")])]),t._v(" "+t._s(t.iduseralta)),a("br"),t._v(" "+t._s(t.fecalta)+" "),a("p"),a("p",[a("b",[t._v("Last updated by':")])]),t._v(" "+t._s(t.iduserumod)),a("br"),t._v(" "+t._s(t.fecumod)),a("br")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:function(e){t.recordInfo=!1}}},[t._v("Exit "),a("v-icon",[t._v("mdi-cancel")])],1)],1)],1)],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",on:{click:function(e){return t.editItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[t._v("Edit")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",on:{click:function(e){return t.deleteItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-delete ")])]}}],null,!0)},[a("span",[t._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[o.activo?[a("v-icon",t._g(t._b({staticClass:"mr-2",on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},"v-icon",r,!1),s),[t._v(" mdi-eye-off ")])]:[a("v-icon",t._g(t._b({staticClass:"mr-2",on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},"v-icon",r,!1),s),[t._v(" mdi-eye ")])]]}}],null,!0)},[a("span",[t._v("Act/Ina")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-2",on:{click:function(e){return t.infoItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-information-outline ")])]}}],null,!0)},[a("span",[t._v("Info")])])]}},{key:"item.activo",fn:function(e){var o=e.item;return[a("td",[o.activo?a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Active")])],1):a("div",[a("v-chip",{staticClass:"ma-2"},[t._v("Dormant")])],1)])]}},{key:"item.imgusuario",fn:function(e){var o=e.item;return[a("td",[o.imgusuario?a("div",[a("v-avatar",{attrs:{size:"40"}},[a("v-img",{attrs:{src:o.imgusuario,"aspect-ratio":"2",contain:""}})],1)],1):a("div",["black"==o.coltexto?a("v-avatar",{attrs:{color:o.colfondo,size:"40"}},[a("span",{staticStyle:{color:"black"}},[t._v(t._s(o.iniciales))])]):a("v-avatar",{attrs:{color:o.colfondo,size:"40"}},[a("span",{staticStyle:{color:"white"}},[t._v(t._s(o.iniciales))])])],1)])]}},{key:"item.fecalta",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.fecalta.substr(0,16)))])]}},{key:"item.fecumod",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reset")])]},proxy:!0}],null,!0)})],1)],2)},Dt=[],Rt={data:function(){return{rules:{counter:function(t){return t.length>=3&&t.length<=50||"Min 3 Max 50 characters"}},up3:"AAA",colores:[{value:"#F44336",text:"Rojo"},{value:"#E91E63",text:"Rosa"},{value:"#9C27B0",text:"Violeta"},{value:"#673AB7",text:"Violeta oscuro"},{value:"#3F51B5",text:"Indigo"},{value:"#2196F3",text:"Azul"},{value:"#03A9F4",text:"Celeste"},{value:"#00BCD4",text:"Cianico"},{value:"#009688",text:"Turquesa"},{value:"#4CAF50",text:"Verde"},{value:"#8BC34A",text:"Verde claro"},{value:"#CDDC39",text:"Lima"},{value:"#FFEB3B",text:"Amarillo"},{value:"#FFC107",text:"Ambar"},{value:"#FF9800",text:"Naranja"},{value:"#FF5722",text:"Naranja oscuro"},{value:"#795548",text:"Marron"},{value:"#607D8B",text:"Lívido"},{value:"#9E9E9E",text:"Gris"},{value:"#000000",text:"Negro"},{value:"#FFFFFF",text:"Blanco"}],textos:[{value:"white",text:"Blanco"},{value:"black",text:"Negro"}],lineaspags:[{value:5,text:"5"},{value:10,text:"10"},{value:15,text:"15"},{value:-1,text:"All"}],primerahoras:[{value:300,text:"05:00"},{value:360,text:"06:00"},{value:420,text:"07:00"},{value:480,text:"08:00"},{value:540,text:"09:00"},{value:600,text:"10:00"},{value:660,text:"11:00"},{value:720,text:"12:00"}],snackbar:!1,snackcolor:"",snacktext:"",timeout:4e3,recordInfo:0,usuarios:[],roles:[],grupos:[],proyectos:[],grupousuarios:[],proyectousuarios:[],workuserId:"",imageUrl:"",groupheader:"",proyheader:"",dialog:!1,groupdialog:!1,proydialog:!1,searchg:"",searchu:"",searchp:"",editedIndex:-1,id:"",rolid:"",iniciales:"",nombre:"",apellido:"",telefono:"",email:"",password:"",colfondo:"#000000",coltexto:"black",imgusuario:"",lineaspag:0,pxch:!1,iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:!1,addgroup:"",addproy:"",actPassword:!1,passwordAnt:"",valida:0,validaMensaje:[],adModal:0,adAccion:0,adNombre:"",adId:""}},computed:{headersusuarios:function(){return[{text:"Avatar",value:"imgusuario",align:"center",sortable:!1},{text:"eMail",value:"email",align:"start",sortable:!0},{text:"First Name",value:"nombre",align:"start",sortable:!0},{text:"Last Name",value:"apellido",align:"start",sortable:!0},{text:"Initials",value:"iniciales",align:"start",sortable:!0},{text:"Rol",value:"rol",align:"start",sortable:!0},{text:"Row/Pag",value:"lineaspag",align:"start",sortable:!0},{text:"Phone",value:"telefono",align:"start",sortable:!0},{text:"Status",value:"activo",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1}]},headersgrupos:function(){return[{text:"#",value:"selected",align:"center",sortable:!1},{text:"Nombre grupo",value:"nombre",align:"start",sortable:!0}]},headersproyectos:function(){return[{text:"#",value:"selected",align:"center",sortable:!1},{text:"Proyecto",value:"nombre",align:"start",sortable:!0},{text:"Tarifa",value:"tarifaproyectousuario",align:"end",sortable:!0},{text:"Costo",value:"costoproyectousuario",align:"end",sortable:!0},{text:"Notas",value:"notas",align:"start",sortable:!0}]},formTitle:function(){return-1===this.editedIndex?"New team member":"Update team member"}},watch:{dialog:function(t){t||this.close()}},created:function(){this.select(),this.listar()},methods:{save:function(){},cancel:function(){},pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this,a=t.target.files;if(void 0!==a[0]){if(this.imageName=a[0].name,this.imageName.lastIndexOf(".")<=0)return;var o=new FileReader;o.readAsDataURL(a[0]),o.addEventListener("load",(function(){e.imageUrl=o.result,e.imageFile=a[0],e.imgusuario=e.imageUrl}))}else this.imageName="",this.imageFile="",this.imageUrl=""},clearImagen:function(){this.imageUrl="",this.imgusuario=""},crearPDF:function(){var t=[{title:"Initials",dataKey:"iniciales"},{title:"First Name",dataKey:"nombre"},{title:"Last Name",dataKey:"apellido"},{title:"Rol",dataKey:"rol"},{title:"eMail",dataKey:"email"},{title:"Phone",dataKey:"telefono"},{title:"Active",dataKey:"activo"}],e=[];this.usuarios.map((function(t){e.push({iniciales:t.iniciales,nombre:t.nombre,apellido:t.apellido,rol:t.rol,telefono:t.telefono,activo:t.activo})}));var a=new mt["default"]("l","pt");a.autoTable(t,e,{margin:{top:60},addPageContent:function(){a.text("Team List",40,30)}}),a.save("Team.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.get("api/Usuarios/Listar",a).then((function(e){t.usuarios=e.data})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},select:function(){var t=this,e=[],a=[],o=[],s=[],r=[],i={Authorization:"Bearer "+this.$store.state.token},l={headers:i};n.a.get("api/Roles/Select",l).then((function(a){e=a.data,e.map((function(e){t.roles.push({text:e.nombre,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Grupos/Listar",l).then((function(e){a=e.data,a.map((function(e){t.grupos.push({selected:!1,nombre:e.nombre,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Grupousuarios/Listar",l).then((function(e){s=e.data,s.map((function(e){t.grupousuarios.push({grupoid:e.grupoid,usuarioid:e.usuarioid,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Proyectos/Listar",l).then((function(e){o=e.data,o.map((function(e){t.proyectos.push({selected:!1,value:e.id,nombre:e.nombre,relid:0,tarifaproyectousuario:0,costoproyectousuario:0,notas:""})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Proyectousuarios/Listar",l).then((function(e){r=e.data,r.map((function(e){t.proyectousuarios.push({proyectoid:e.proyectoid,usuarioid:e.usuarioid,tarifaproyectousuario:e.tarifaproyectousuario,costoproyectousuario:e.costoproyectousuario,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},editItem:function(t){this.id=t.id,this.rolid=t.rolid,this.iniciales=t.iniciales,this.nombre=t.nombre,this.apellido=t.apellido,this.telefono=t.telefono,this.email=t.email,this.password=t.password_hash,this.passwordAnt=t.password_hash,this.colfondo=t.colfondo,this.coltexto=t.coltexto,this.imgusuario=t.imgusuario,this.imageUrl=t.imgusuario,this.lineaspag=t.lineaspag,this.pxch=t.pxch,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.activo=t.activo,this.editedIndex=1,this.groupdialog=!1,this.proydialog=!1,this.dialog=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var o={Authorization:"Bearer "+e.$store.state.token},s={headers:o};n.a.delete("api/Usuarios/Eliminar/"+t.id,s).then((function(){e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0,e.close(),e.listar()})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t)}))}},infoItem:function(t){var e=this.usuarios.findIndex((function(e){return e.iduseralta===t.iduseralta}));this.iduseralta=this.usuarios[e].email+" "+this.usuarios[e].apellido+" "+this.usuarios[e].nombre,this.fecalta=t.fecalta,this.iduserumod=this.usuarios[e].email+" "+this.usuarios[e].apellido+" "+this.usuarios[e].nombre,this.fecumod=t.fecumod,this.recordInfo=!0},closeInfo:function(){this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.recordInfo=!1},close:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.rolid="",this.email="",this.nombre="",this.apellido="",this.iniciales=null,this.telefono="",this.password="",this.passwordAnt="",this.colfondo="#000000",this.coltexto="white",this.imgusuario="",this.imageUrl="",this.lineaspag=0,this.pxch=!1,this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.activo=!1,this.actPassword=!1,this.groupdialog=!1,this.editedIndex=-1},guardar:function(){if(!this.validar()){var t=new Date,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};if(this.editedIndex>-1){var o=this;o.password!=o.passwordAnt&&(o.actPassword=!0),n.a.put("api/Usuarios/Actualizar",{id:o.id,rolid:o.rolid,email:o.email,nombre:o.nombre,apellido:o.apellido,iniciales:o.iniciales,telefono:o.telefono,password:o.password,act_password:o.actPassword,colfondo:o.colfondo,coltexto:o.coltexto,imgusuario:o.imgusuario,lineaspag:o.lineaspag,pxch:o.pxch,iduseralta:o.iduseralta,fecalta:o.fecalta,iduserumod:o.$store.state.usuario.idusuario,fecumod:new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString()},a).then((function(){o.buscarUserinfo(),o.snacktext="Updated",o.snackcolor="success",o.snackbar=!0,o.close(),o.listar(),o.limpiar()})).catch((function(t){o.snacktext="An error was detected. Code: "+t.response.status,o.snackcolor="error",o.snackbar=!0,console.log(t)}))}else{var s=this;n.a.post("api/Usuarios/Crear",{rolid:s.rolid,email:s.email,nombre:s.nombre,apellido:s.apellido,iniciales:s.iniciales,telefono:s.telefono,password:s.password,colfondo:s.colfondo,coltexto:s.coltexto,imgusuario:s.imgusuario,lineaspag:s.lineaspag,pxch:s.pxch,iduseralta:s.$store.state.usuario.idusuario},a).then((function(){s.buscarUserinfo(),s.snacktext="Created",s.snackcolor="success",s.snackbar=!0,s.close(),s.listar(),s.limpiar()})).catch((function(t){s.snacktext="An error was detected. Code: "+t.response.status,s.snackcolor="error",s.snackbar=!0,console.log(t)}))}}},buscarUserinfo:function(){var t=this,e=this,a={Authorization:"Bearer "+e.$store.state.token},o={headers:a};n.a.get("api/Usuarios/Traer/"+e.$store.state.usuario.idusuario,o).then((function(t){return t.data})).then((function(e){t.$store.dispatch("guardarUserinfo",e)})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t)}))},validar:function(){return this.valida=0,this.validaMensaje=[],(this.nombre.length<1||this.nombre.length>100)&&this.validaMensaje.push("El nombre es obligatorio y debe tener menos de 100 caracteres."),(this.apellido.length<1||this.apellido.length>100)&&this.validaMensaje.push("El apellido es obligatorio y debe tener menos de 100 caracteres."),this.rolid||this.validaMensaje.push("Seleccione un rol."),this.email||this.validaMensaje.push("Ingrese el email del usuario."),this.password||this.validaMensaje.push("Ingrese el password del usuario."),(this.iniciales.length<1||this.iniciales.length>3)&&this.validaMensaje.push("Las iniciales deben tener al menos 1 caracter y no mas de 3 caracteres."),this.coltexto||this.validaMensaje.push("Seleccione un color de texto."),this.colfondo||this.validaMensaje.push("Seleccione un color de fondo."),this.validaMensaje.length&&(this.valida=1),this.valida},agregarGrupo:function(t){var e=this;if(t.length>=3&&t.length<=50){var a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};n.a.post("api/Grupos/Crear",{nombre:t,iduseralta:e.$store.state.usuario.idusuario},o).then((function(t){e.grupos.push({selected:!1,nombre:t.data.nombre,value:t.data.id}),e.snacktext="Created",e.snackcolor="success",e.snackbar=!0,e.addgroup=""})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t)}))}},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.apellido+" "+e.nombre,this.adId=e.id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.put("api/Usuarios/Activar/"+this.adId,{},a).then((function(){t.snacktext="Activated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};n.a.put("api/Usuarios/Desactivar/"+this.adId,{},a).then((function(){t.snacktext="Inactivated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))}}},$t=Rt,Nt=a("b974"),jt=Object(d["a"])($t,Ft,Dt,!1,null,null,null),Pt=jt.exports;v()(jt,{VAvatar:h["a"],VBtn:k["a"],VCard:g["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VChip:ht["a"],VCol:b["a"],VContainer:x["a"],VDataTable:kt["a"],VDialog:G["a"],VDivider:gt["a"],VIcon:y["a"],VImg:C["a"],VLayout:w["a"],VRow:J["a"],VSelect:Nt["a"],VSnackbar:Y["a"],VSpacer:$["a"],VSwitch:It["a"],VTextField:H["a"],VToolbar:X["a"],VToolbarTitle:N["a"],VTooltip:bt["a"]});var Ut=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-row",{staticStyle:{overflow:"auto"},attrs:{align:"start"}},[[a("v-snackbar",{attrs:{timeout:t.timeout,absolute:"",top:"",app:"",right:"",color:t.snackcolor},scopedSlots:t._u([{key:"action",fn:function(e){var o=e.attrs;return[a("v-btn",t._b({attrs:{color:"#FFFFFF",dark:"",vertical:"",text:""},on:{click:function(e){t.snackbar=!1}}},"v-btn",o,!1),[t._v(" CLOSE ")])]}}]),model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.snacktext)+" ")])],a("v-col",{attrs:{cols:"12",md:"12",sm:"12"}},[a("v-data-table",{staticClass:"elevation-1 blue-grey lighten-5",attrs:{headers:t.headerartists,items:t.artists,"footer-props":{showFirstLastPage:!0,"first-icon":"mdi-arrow-collapse-left","last-icon":"mdi-arrow-collapse-right","prev-icon":"mdi-minus","next-icon":"mdi-plus","items-per-page-text":"Artists per page","items-per-page-options":[5,10,30,50,100],"show-current-page":!0},"items-per-page":30,search:t.searcha,"item-key":"id","show-select":"","no-data-text":"Nothing to show",height:"750px"},scopedSlots:t._u([{key:"header.fullname",fn:function(e){var o=e.header;return[t._v(" "+t._s(o.text)+" "),a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:t.fullnameFilterValues?"accent":""}},[t._v(" mdi-filter ")])],1)]}}],null,!0)},[a("div",{staticStyle:{"background-color":"white",width:"280px"}},[a("v-text-field",{staticClass:"pa-4",attrs:{type:"text",label:"Texto a buscar",clearable:""},model:{value:t.fullnameFilterValues,callback:function(e){t.fullnameFilterValues=e},expression:"fullnameFilterValues"}})],1)])]}},{key:"header.mainrole",fn:function(e){var o=e.header;return[t._v(" "+t._s(o.text)+" "),a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:t.roleFilterValues.length?"accent":""}},[t._v(" mdi-filter ")])],1)]}}],null,!0)},[a("div",{staticStyle:{"background-color":"white",width:"280px"}},[a("v-select",{staticClass:"elevation-1",attrs:{items:t.roles,label:"Main Role","append-icon":"mdi-magnify-plus-outline",clearable:"",chips:"","deletable-chips":"",multiple:""},model:{value:t.roleFilterValues,callback:function(e){t.roleFilterValues=e},expression:"roleFilterValues"}})],1)])]}},{key:"header._skillartisttxs",fn:function(e){var o=e.header;return[t._v(" "+t._s(o.text)+" "),a("v-menu",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),o),[a("v-icon",{attrs:{small:"",color:t.skillFilterValues.length?"accent":""}},[t._v(" mdi-filter ")])],1)]}}],null,!0)},[a("div",{staticStyle:{"background-color":"white",width:"280px"}},[a("v-select",{staticClass:"elevation-1",attrs:{items:t.skillsfilter,label:"Skills","append-icon":"mdi-magnify-plus-outline",clearable:"",chips:"","deletable-chips":"",multiple:""},model:{value:t.skillFilterValues,callback:function(e){t.skillFilterValues=e},expression:"skillFilterValues"}})],1)])]}},{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"white"}},[a("v-toolbar-title",[t._v("Artists")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("tr",[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-1",attrs:{"x-small":"",disabled:!t.selected.length},on:{click:function(e){return t.tratarPreview()}}},"v-btn",s,!1),o),[a("v-icon",[t._v(" mdi-format-list-bulleted ")])],1)]}}])},[a("span",[t._v("CheckIn")])])],1),a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("export-excel",{attrs:{data:t.json_data,fields:t.json_fields,worksheet:"Artist Export",type:"xls",name:"MAnAdata.xls"}},[a("v-btn",t._g(t._b({staticClass:"mr-1",attrs:{"x-small":"",disabled:!t.selected.length},on:{click:function(e){return t.crearXLS()}}},"v-btn",s,!1),o),[a("v-icon",[t._v(" mdi-file-excel-box ")])],1)],1)]}}])},[a("span",[t._v("Export")])])],1),a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mr-1",attrs:{"x-small":"",disabled:!t.selected.length},on:{click:function(e){return t.crearPDF()}}},"v-btn",s,!1),o),[a("v-icon",[t._v(" mdi-printer ")])],1)]}}])},[a("span",[t._v("Contact List")])])],1)]),a("v-spacer"),a("v-text-field",{attrs:{dense:"",label:"Search",outlined:"",clearable:"","append-icon":"mdi-magnify","single-line":"","hide-details":""},model:{value:t.searcha,callback:function(e){t.searcha=e},expression:"searcha"}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"700px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on;return[a("v-btn",t._g({staticClass:"mb-2",attrs:{color:"primary",dark:""}},o),[t._v("NEW")])]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-container",{staticClass:"grey lighten-5",attrs:{"grid-list-md":""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",label:"Full Name",rules:t.fullnameRules,counter:"64"},model:{value:t.fullname,callback:function(e){t.fullname=e},expression:"fullname"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-select",{attrs:{dense:"",items:t.roles,label:"Main Role"},model:{value:t.mainroleid,callback:function(e){t.mainroleid=e},expression:"mainroleid"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-text-field",{attrs:{dense:"",label:"Email",rules:t.emailRules,counter:"64"},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-text-field",{attrs:{dense:"",label:"Alternative contact",rules:t.alternativecontactRules,counter:"64"},model:{value:t.alternativecontact,callback:function(e){t.alternativecontact=e},expression:"alternativecontact"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",label:"Phone",rules:t.phoneRules,counter:"32"},model:{value:t.phone,callback:function(e){t.phone=e},expression:"phone"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{dense:"",rules:t.phoneRules,label:"Mobile",counter:"32"},model:{value:t.mobile,callback:function(e){t.mobile=e},expression:"mobile"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",label:"Projects Worked",counter:"64"},model:{value:t.projectsworked,callback:function(e){t.projectsworked=e},expression:"projectsworked"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",label:"Cost",counter:"128"},model:{value:t.cost,callback:function(e){t.cost=e},expression:"cost"}})],1),a("v-col",{attrs:{cols:"12",sm:"2",md:"2"}},[a("v-layout",{attrs:{column:""}},[a("v-avatar",{staticClass:"ml-2",attrs:{size:"40"}},[a("v-img",{attrs:{src:t.imageUrl,"aspect-ratio":"2",contain:""}})],1),a("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputUpload1",attrs:{type:"file"},on:{change:t.onFilePicked}})],1)],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",color:"primary"},on:{click:function(e){return t.$refs.inputUpload1.click()}}},[a("v-icon",[t._v(" mdi-file-jpg-box ")])],1),a("v-btn",{staticClass:"mx-2",attrs:{small:"",fab:"",color:"primary"},on:{click:t.clearImagen}},[a("v-icon",[t._v(" mdi-delete ")])],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closedialog}},[t._v("CANCEL")]),a("v-btn",{attrs:{color:"secondary",dark:"",disabled:!t.validForm,text:""},on:{click:t.guardar}},[t._v("SAVE")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"400px",persistent:""},model:{value:t.checkindialog,callback:function(e){t.checkindialog=e},expression:"checkindialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[t._v("Create Check In Set")])]),a("v-card-text",[a("v-form",{ref:"form",model:{value:t.validForm,callback:function(e){t.validForm=e},expression:"validForm"}},[a("v-container",{staticClass:"grey lighten-5",attrs:{"grid-list-md":""}},[a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",label:"Check In",rules:t.checkinRules,counter:"32"},model:{value:t.checkin,callback:function(e){t.checkin=e},expression:"checkin"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{dense:"",label:"Detail",rules:t.detailRules,counter:"256"},model:{value:t.detail,callback:function(e){t.detail=e},expression:"detail"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(e){t.checkindialog=!1}}},[t._v("CANCEL")]),a("v-btn",{attrs:{color:"secondary",dark:"",disabled:!t.validForm,text:""},on:{click:t.guardarCheckin}},[t._v("SAVE")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"390"},model:{value:t.adModal,callback:function(e){t.adModal=e},expression:"adModal"}},[a("v-card",[1==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("¿Activar Miembro?")]):t._e(),2==t.adAccion?a("v-card-title",{staticClass:"headline"},[t._v("Bloquear Miembro?")]):t._e(),a("v-card-text",[t._v(" You are about to "),1==t.adAccion?a("span",[t._v("Activate ")]):t._e(),2==t.adAccion?a("span",[t._v("Inactivate ")]):t._e(),t._v(" the Artist: "+t._s(t.adNombre)+" ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:t.activarDesactivarCerrar}},[t._v("Cancel "),a("v-icon",[t._v("mdi-cancel")])],1),1==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.activar}},[t._v("Activate "),a("v-icon",[t._v("mdi-lock-open")])],1):t._e(),2==t.adAccion?a("v-btn",{attrs:{small:""},on:{click:t.desactivar}},[t._v("Inactivate "),a("v-icon",[t._v("mdi-lock")])],1):t._e()],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.recordInfo,callback:function(e){t.recordInfo=e},expression:"recordInfo"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[t._v("Item info: "+t._s(t.adNombre))]),a("v-card-text",[a("p",[t._v(t._s(t.fullname))]),a("p",[a("b",[t._v("Created by:")])]),t._v(" "+t._s(t.iduseralta)),a("br"),t._v(" "+t._s(t.fecalta)+" "),a("p"),a("p",[a("b",[t._v("Last updated by':")])]),t._v(" "+t._s(t.iduserumod)),a("br"),t._v(" "+t._s(t.fecumod)),a("br")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{small:""},on:{click:function(e){t.recordInfo=!1}}},[t._v("Close "),a("v-icon",[t._v("mdi-cancel")])],1)],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500"},model:{value:t.skilldialog,callback:function(e){t.skilldialog=e},expression:"skilldialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerskills,items:t.skills,search:t.searchs,"items-per-page":5,"no-data-text":"Nothing to Show"},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-card",{attrs:{flat:"",color:"white"}},[a("v-card-title",[t._v(t._s(t.skillheader))]),a("v-card-actions",[a("v-text-field",{staticClass:"ma-2",attrs:{label:"Search",outlined:"",dense:"","append-icon":"mdi-magnify","single-line":"","hide-details":"",clearable:""},model:{value:t.searchs,callback:function(e){t.searchs=e},expression:"searchs"}}),a("v-btn",{staticClass:"ma-2",attrs:{color:"primary",dense:"",dark:""},nativeOn:{click:function(e){t.skilldialog=!1}}},[t._v("Close")])],1)],1)]},proxy:!0},{key:"item.selected",fn:function(e){var o=e.item;return[a("v-simple-checkbox",{attrs:{ripple:!1},on:{click:function(e){return t.accionSkill(o)}},model:{value:o.selected,callback:function(e){t.$set(o,"selected",e)},expression:"item.selected"}})]}}],null,!0)})],1),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.portfoliodialog,callback:function(e){t.portfoliodialog=e},expression:"portfoliodialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerportfolio,items:t.portfolioartists,"sort-by":"text","items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Portfolio of "+t._s(t.portfolioheader))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),o),[t._v(" NEW ")])]}}]),model:{value:t.portfolioCRUDdialog,callback:function(e){t.portfolioCRUDdialog=e},expression:"portfolioCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formTitlePortfolio)+" for "+t._s(t.portfolioheader))])]),a("v-card-text",[a("v-form",{ref:"portfolioform",model:{value:t.validportfolioform,callback:function(e){t.validportfolioform=e},expression:"validportfolioform"}},[a("v-container",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"URL Instance",rules:t.urlRules,counter:"128"},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closePortfolio}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validportfolioform},on:{click:t.savePortfolio}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"520px"},model:{value:t.dialogDeletePortfolio,callback:function(e){t.dialogDeletePortfolio=e},expression:"dialogDeletePortfolio"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this item? ")]),a("p",{staticClass:"ml-3"},[t._v(t._s(t.url))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDeletePortfolio}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deletePorfolioConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.text",fn:function(e){var o=e.item;return[a("v-chip",{staticClass:"ma-2",attrs:{color:"scondary",label:""},on:{click:function(e){return t.openTab(o.text)}}},[t._v(" "+t._s(o.text)+" ")])]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editPortfolio(o)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deletePortfolio(o)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.notedialog,callback:function(e){t.notedialog=e},expression:"notedialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headernotes,items:t.noteartists,"sort-by":"fecumod","sort-desc":"",search:t.searchn,"items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Notes of "+t._s(t.noteheader))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),o),[t._v(" NEW ")])]}}]),model:{value:t.noteCRUDdialog,callback:function(e){t.noteCRUDdialog=e},expression:"noteCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formTitleNote)+" for "+t._s(t.noteheader))])]),a("v-card-text",[a("v-form",{ref:"noteform",model:{value:t.validnoteform,callback:function(e){t.validnoteform=e},expression:"validnoteform"}},[a("v-container",[a("v-col",{attrs:{cols:"12",sm:"12",md:"12"}},[a("v-text-field",{attrs:{label:"Note",rules:t.noteRules,counter:"512"},model:{value:t.note,callback:function(e){t.note=e},expression:"note"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeNote}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validnoteform},on:{click:t.saveNote}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"520px"},model:{value:t.dialogDeleteNote,callback:function(e){t.dialogDeleteNote=e},expression:"dialogDeleteNote"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this note? ")]),a("p",{staticClass:"ml-3"},[t._v(t._s(t.note))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDeleteNote}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deleteNoteConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.fecumod",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.fecumod.substr(0,10))+" ")]}},{key:"item.text",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.text)+" ")]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editNote(o)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteNote(o)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.scheduledialog,callback:function(e){t.scheduledialog=e},expression:"scheduledialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerschedules,items:t.scheduleartists,"sort-by":"fecumod","sort-desc":"",search:t.searchn,"items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Schedule of "+t._s(t.scheduleheader))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),o),[t._v(" NEW ")])]}}]),model:{value:t.scheduleCRUDdialog,callback:function(e){t.scheduleCRUDdialog=e},expression:"scheduleCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formTitleSchedule)+" for "+t._s(t.scheduleheader))])]),a("v-card-text",[a("v-form",{ref:"scheduleform",model:{value:t.validscheduleform,callback:function(e){t.validscheduleform=e},expression:"validscheduleform"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.dates,transition:"scale-transition","offset-y":"","min-width":"auto"},on:{"update:returnValue":function(e){t.dates=e},"update:return-value":function(e){t.dates=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-text-field",t._g(t._b({attrs:{label:"Date range","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.dateRangeText,callback:function(e){t.dateRangeText=e},expression:"dateRangeText"}},"v-text-field",s,!1),o))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[a("v-date-picker",{attrs:{color:"primary",range:"","no-title":"",scrollable:""},model:{value:t.dates,callback:function(e){t.dates=e},expression:"dates"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.menu=!1}}},[t._v(" Cancel ")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){return t.$refs.menu.save(t.dates)}}},[t._v(" OK ")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"6"}},[a("v-text-field",{attrs:{label:"Reason",counter:"32"},model:{value:t.reason,callback:function(e){t.reason=e},expression:"reason"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeSchedule}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validscheduleform},on:{click:t.saveSchedule}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"570px"},model:{value:t.dialogDeleteSchedule,callback:function(e){t.dialogDeleteSchedule=e},expression:"dialogDeleteSchedule"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this schedule? ")]),a("p",{staticClass:"ml-3"},[t._v(t._s(t.dateRangeText)+" "+t._s(t.reason))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDeleteSchedule}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deleteScheduleConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.startdate",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.startdate.substr(0,10))+" ")]}},{key:"item.enddate",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.enddate.substr(0,10))+" ")]}},{key:"item.reason",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.reason)+" ")]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editSchedule(o)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteSchedule(o)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1),a("v-dialog",{attrs:{"max-width":"700"},model:{value:t.ratingdialog,callback:function(e){t.ratingdialog=e},expression:"ratingdialog"}},[a("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headerratings,items:t.ratingartists,"sort-by":"fecumod","sort-desc":"",search:t.searchn,"items-per-page":5},scopedSlots:t._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[t._v("Ratings of "+t._s(t.ratingheader))]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"600px"},scopedSlots:t._u([{key:"activator",fn:function(e){var o=e.on,s=e.attrs;return[a("v-btn",t._g(t._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",s,!1),o),[t._v(" NEW ")])]}}]),model:{value:t.ratingCRUDdialog,callback:function(e){t.ratingCRUDdialog=e},expression:"ratingCRUDdialog"}},[a("v-card",[a("v-card-title",[a("p",{staticClass:"text-h5"},[t._v(t._s(t.formTitleRating)+" for "+t._s(t.ratingheader))])]),a("v-card-text",[a("v-form",{ref:"ratingform",model:{value:t.validratingform,callback:function(e){t.validratingform=e},expression:"validratingform"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"8",md:"8"}},[a("v-text-field",{attrs:{label:"Project name",type:"text",rules:t.projectnameRules,counter:"32"},model:{value:t.projectname,callback:function(e){t.projectname=e},expression:"projectname"}})],1),a("v-col",{attrs:{cols:"12",sm:"4",md:"4"}},[a("v-text-field",{attrs:{type:"number",label:"Score",rules:t.scoreRules,min:"0",max:"5"},model:{value:t.score,callback:function(e){t.score=e},expression:"score"}})],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeRating}},[t._v(" Cancel ")]),a("v-btn",{attrs:{color:"primary",text:"",disabled:!t.validratingform},on:{click:t.saveRating}},[t._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"550px"},model:{value:t.dialogDeleteRating,callback:function(e){t.dialogDeleteRating=e},expression:"dialogDeleteRating"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[t._v("Are you sure you want to delete this rating? ")]),a("p",{staticClass:"ml-3"},[t._v(t._s(t.projectname)+": "+t._s(t.score))]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.closeDeleteRating}},[t._v("Cancel")]),a("v-btn",{attrs:{color:"primary",text:""},on:{click:t.deleteRatingConfirm}},[t._v("OK")]),a("v-spacer")],1)],1)],1)],1)]},proxy:!0},{key:"item.fecumod",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.fecumod.substr(0,10))+" ")]}},{key:"item.text",fn:function(e){var a=e.item;return[t._v(" "+t._s(a.text)+" ")]}},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editRating(o)}}},[t._v(" mdi-pencil ")]),a("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteRating(o)}}},[t._v(" mdi-delete ")])]}}],null,!0)})],1)],1)]},proxy:!0},{key:"item.actions",fn:function(e){var o=e.item;return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!o.activo,dense:""},on:{click:function(e){return t.editItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-pencil ")])]}}],null,!0)},[a("span",[t._v("Edit")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.deleteItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-delete ")])]}}],null,!0)},[a("span",[t._v("Delete")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[o.activo?[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.activarDesactivarMostrar(2,o)}}},"v-icon",r,!1),s),[t._v(" mdi-eye-off ")])]:[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.activarDesactivarMostrar(1,o)}}},"v-icon",r,!1),s),[t._v(" mdi-eye ")])]]}}],null,!0)},[a("span",[t._v("Act/Ina")])]),a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{dense:""},on:{click:function(e){return t.infoItem(o)}}},"v-icon",r,!1),s),[t._v(" mdi-information-outline ")])]}}],null,!0)},[a("span",[t._v("Info")])])]}},{key:"item.activo",fn:function(e){var o=e.item;return[a("td",[o.activo?a("div",[a("v-chip",{staticClass:"ma-2",attrs:{color:"primary","text-color":"white"}},[t._v("Active")])],1):a("div",[a("v-chip",{staticClass:"ma-2"},[t._v("Dormant")])],1)])]}},{key:"item.mainrole",fn:function(e){var o=e.item;return[a("v-edit-dialog",{attrs:{"return-value":o.mainrole,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(o,"mainrole",e)},"update:return-value":function(e){return t.$set(o,"mainrole",e)},save:function(e){return t.save(o)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Main Role ")]),a("v-select",{attrs:{dense:"",disabled:!o.activo,items:t.roles,label:"Inline Edition",autofocus:""},model:{value:o.mainroleid,callback:function(e){t.$set(o,"mainroleid",e)},expression:"item.mainroleid"}})]},proxy:!0}],null,!0)},[a("div",[t._v(t._s(o.mainrole))])])]}},{key:"item.projectsworked",fn:function(e){var o=e.item;return[a("v-edit-dialog",{attrs:{"return-value":o.projectsworked,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(o,"projectsworked",e)},"update:return-value":function(e){return t.$set(o,"projectsworked",e)},save:function(e){return t.save(o)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Projects Worked ")]),a("v-text-field",{attrs:{dense:"",rules:t.projectsworkedRules,label:"Project Worked",hint:"Inline Edition","single-line":"",counter:"64"},model:{value:o.projectsworked,callback:function(e){t.$set(o,"projectsworked",e)},expression:"item.projectsworked"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(o.projectsworked)+" ")])]}},{key:"item._skillartisttxs",fn:function(e){var o=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!o.activo,"x-small":""},on:{click:function(e){return t.tratarSkill(o)}}},"v-icon",r,!1),s),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Skills")])])],1),a("td",[t._v(" "+t._s(o._skillartisttxs)+" ")])]}},{key:"item._notes",fn:function(e){var o=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!o.activo,"x-small":""},on:{click:function(e){return t.tratarNote(o)}}},"v-icon",r,!1),s),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Notes")])])],1),a("td",[t._v(" "+t._s(o._notes)+" ")])]}},{key:"item._portfolios",fn:function(e){var o=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!o.activo,"x-small":""},on:{click:function(e){return t.tratarPortfolio(o)}}},"v-icon",r,!1),s),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Portfolio")])])],1),a("td",[o._portfolios&&o._portfolios.split(" ").length?a("a",t._l(o._portfolios.split(" "),(function(e,o){return a("a",{key:o,on:{click:function(a){return t.openTab(e)},mouseover:function(a){return a.stopPropagation(),a.preventDefault(),t.viewTab(e)},mouseleave:function(e){return e.stopPropagation(),e.preventDefault(),t.closeTab()}}},[t._v(" "+t._s(e)+" ")])})),0):a("p",[t._v("No portfolio Foud")])])]}},{key:"item._schedules",fn:function(e){var o=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!o.activo,"x-small":""},on:{click:function(e){return t.tratarSchedule(o)}}},"v-icon",r,!1),s),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Schedules")])])],1),a("td",[t._v(" "+t._s(o._schedules)+" ")])]}},{key:"item._rating",fn:function(e){var o=e.item;return[a("td",[a("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function(e){var s=e.on,r=e.attrs;return[a("v-icon",t._g(t._b({staticClass:"mr-1",attrs:{disabled:!o.activo,"x-small":""},on:{click:function(e){return t.tratarRating(o)}}},"v-icon",r,!1),s),[t._v(" mdi-details ")])]}}],null,!0)},[a("span",[t._v("Manage Ratings")])])],1),a("td",[a("v-rating",{attrs:{color:"yellow darken-4","background-color":"grey darken-1",readonly:"","x-small":"",dense:""},model:{value:o._rating,callback:function(e){t.$set(o,"_rating",e)},expression:"item._rating"}})],1)]}},{key:"item.cost",fn:function(e){var o=e.item;return[a("v-edit-dialog",{attrs:{"return-value":o.cost,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(o,"cost",e)},"update:return-value":function(e){return t.$set(o,"cost",e)},save:function(e){return t.saveCost(o)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Costs ")]),a("v-text-field",{attrs:{rules:t.costRules,label:"Costs",hint:"Inline Edition","single-line":"",counter:"128"},model:{value:o.cost,callback:function(e){t.$set(o,"cost",e)},expression:"item.cost"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(o.cost)+" ")])]}},{key:"item.costingdate",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.costingdate?o.costingdate.substr(0,10):""))])]}},{key:"item.email",fn:function(e){var o=e.item;return[a("v-edit-dialog",{attrs:{large:"",persistent:"","return-value":o.email},on:{"update:returnValue":function(e){return t.$set(o,"email",e)},"update:return-value":function(e){return t.$set(o,"email",e)},save:function(e){return t.save(o)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update eMail ")]),a("v-text-field",{attrs:{rules:t.emailRules,label:"eMail",hint:"Inline Edition","single-line":"",counter:"64"},model:{value:o.email,callback:function(e){t.$set(o,"email",e)},expression:"item.email"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(o.email)+" ")])]}},{key:"item.alternativecontact",fn:function(e){var o=e.item;return[a("v-edit-dialog",{attrs:{large:"",persistent:"","return-value":o.alternativecontact},on:{"update:returnValue":function(e){return t.$set(o,"alternativecontact",e)},"update:return-value":function(e){return t.$set(o,"alternativecontact",e)},save:function(e){return t.save(o)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Alternative Contact ")]),a("v-text-field",{attrs:{rules:t.alternativecontact,label:"Alternative contact",hint:"Inline Edition","single-line":"",counter:"64"},model:{value:o.alternativecontact,callback:function(e){t.$set(o,"alternativecontact",e)},expression:"item.alternativecontact"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(o.alternativecontact)+" ")])]}},{key:"item.phone",fn:function(e){var o=e.item;return[a("v-edit-dialog",{attrs:{"return-value":o.phone,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(o,"phone",e)},"update:return-value":function(e){return t.$set(o,"phone",e)},save:function(e){return t.save(o)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Phone ")]),a("v-text-field",{attrs:{rules:t.phoneRules,label:"Phone",hint:"Inline Edition","single-line":"",counter:"32"},model:{value:o.phone,callback:function(e){t.$set(o,"phone",e)},expression:"item.phone"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(o.phone)+" ")])]}},{key:"item.mobile",fn:function(e){var o=e.item;return[a("v-edit-dialog",{attrs:{"return-value":o.mobile,large:"",persistent:""},on:{"update:returnValue":function(e){return t.$set(o,"mobile",e)},"update:return-value":function(e){return t.$set(o,"mobile",e)},save:function(e){return t.save(o)},cancel:t.cancel,open:t.open,close:t.close},scopedSlots:t._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[t._v(" Update Mobile ")]),a("v-text-field",{attrs:{rules:t.phoneRules,label:"Mobile",hint:"Inline Edition","single-line":"",counter:"32"},model:{value:o.mobile,callback:function(e){t.$set(o,"mobile",e)},expression:"item.mobile"}})]},proxy:!0}],null,!0)},[t._v(" "+t._s(o.mobile)+" ")])]}},{key:"item.imgartist",fn:function(t){var e=t.item;return[a("td",[e.imgartist?a("div",[a("v-avatar",{attrs:{size:"40"}},[a("v-img",{attrs:{src:e.imgartist,"aspect-ratio":"2",contain:""}})],1)],1):a("div",[a("v-avatar",{attrs:{size:"40"}},[a("v-img",{attrs:{src:"https://ui-avatars.com/api/"+e.fullname,"aspect-ratio":"2",contain:""}})],1)],1)])]}},{key:"item.fecalta",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.fecalta.substr(0,16)))])]}},{key:"item.fecumod",fn:function(e){var o=e.item;return[a("td",[t._v(t._s(o.fecumod.substr(0,16)))])]}},{key:"no-data",fn:function(){return[a("v-btn",{attrs:{color:"primary"},on:{click:t.listar}},[t._v("Reset")])]},proxy:!0}],null,!0),model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}})],1)],2)},Mt=[],Et=a("1da1"),Tt=(a("96cf"),a("a15b"),a("caad"),a("2532"),a("ac1f"),a("1276"),a("7db0"),a("4de4"),a("a434"),a("25f0"),{data:function(){return{json_fields:{},json_data:[],json_meta:[[{key:"charset",value:"utf-8"}]],validForm:!1,validportfolioform:!1,validnoteform:!1,validscheduleform:!1,validratingform:!1,menu:!1,fullnameRules:[function(t){return!!t||"Full Name is required"},function(t){return t&&t.length>0&&t.length<=64||"Exceeds 64 characters"}],urlRules:[function(t){return!!t||"URL is required"},function(t){return t&&t.length>0&&t.length<=128||"Exceeds 128 characters"},function(t){return!/[ ]/.test(t)||"no spaces allowed"}],noteRules:[function(t){return!!t||"Note is required"},function(t){return t&&t.length>0&&t.length<=128||"Exceeds 512 characters"}],projectnameRules:[function(t){return!!t||"Project name is required"},function(t){return t&&t.length<=32||"Exceeds 32 characters"}],projectsworkedRules:[function(t){return 0==!!t.length||t.length<=64||"Exceeds 64 characters"}],costRules:[function(t){return 0==!!t.length||t.length<=128||"Exceeds 128 characters"}],emailRules:[function(t){return 0==!!t.length||t.length<=64||"Exceeds 64 characters"}],alternativecontactRules:[function(t){return 0==!!t.length||t.length<=64||"Exceeds 64 characters"}],phoneRules:[function(t){return 0==!!t.length||t.length<=32||"Exceeds 32 characters"}],scoreRules:[function(t){return!!t||"Score is required"},function(t){return t&&t.length>0&&t.length<=1||"Exceeds 1 digit"},function(t){return t&&t>0&&t<6||"Valid range 1 to 5"}],checkinRules:[function(t){return 0==!!t.length||t.length<=32||"Exceeds 32 characters"}],detailRules:[function(t){return 0==!!t.length||t.length<=256||"Exceeds 32 characters"}],colores:[{value:"#F44336",text:"Rojo"},{value:"#E91E63",text:"Rosa"},{value:"#9C27B0",text:"Violeta"},{value:"#673AB7",text:"Violeta oscuro"},{value:"#3F51B5",text:"Indigo"},{value:"#2196F3",text:"Azul"},{value:"#03A9F4",text:"Celeste"},{value:"#00BCD4",text:"Cianico"},{value:"#009688",text:"Turquesa"},{value:"#4CAF50",text:"Verde"},{value:"#8BC34A",text:"Verde claro"},{value:"#CDDC39",text:"Lima"},{value:"#FFEB3B",text:"Amarillo"},{value:"#FFC107",text:"Ambar"},{value:"#FF9800",text:"Naranja"},{value:"#FF5722",text:"Naranja oscuro"},{value:"#795548",text:"Marron"},{value:"#607D8B",text:"Lívido"},{value:"#9E9E9E",text:"Gris"},{value:"#000000",text:"Negro"},{value:"#FFFFFF",text:"Blanco"}],textos:[{value:"white",text:"Blanco"},{value:"black",text:"Negro"}],lineaspags:[{value:5,text:"5"},{value:10,text:"10"},{value:15,text:"15"},{value:-1,text:"All"}],dependentWindow:"",searcha:"",searchr:"",searchs:"",snackbar:!1,snackcolor:"",snacktext:"",timeout:4e3,recordInfo:0,selected:[],fullnameFilterValues:"",roleFilterValues:[],skillFilterValues:[],artists:[],schedules:[],_shcedules:"",scheduleartists:[],skills:[],skillsfilter:[],_skillartistids:[],_skillartisttxs:[],skillartists:[],roles:[],portfolios:[],_portfolios:"",portfolioartists:[],notes:[],_notes:"",noteartists:[],ratings:[],_rating:[],ratingartists:[],selections:[],selectedartists:[],usuarios:[],id:"",fullname:"",mainroleid:"",projectsworked:"",cost:"",costingdate:"",costinguserid:"",email:"",alternativecontact:"",phone:"",mobile:"",imgartist:"",proveeodrid:"",iduseralta:"",fecalta:"",iduserumod:"",fecumod:"",activo:!1,imageUrl:"",editedIndex:-1,dialog:!1,workedartistid:"",roledialog:!1,roleheader:"",skilldialog:!1,skillheader:"",portfoliodialog:!1,portfolioCRUDdialog:!1,dialogDeletePortfolio:!1,checkindialog:!1,checkin:"",detail:"",portfolioheader:"",url:"",notedialog:!1,noteCRUDdialog:!1,dialogDeleteNote:!1,noteheader:"",note:"",scheduledialog:!1,scheduleCRUDdialog:!1,dialogDeleteSchedule:!1,scheduleheader:"",startdate:"",enddate:"",dates:[],reason:"",ratingdialog:!1,ratingCRUDdialog:!1,dialogDeleteRating:!1,ratingheader:"",projectname:"",score:0,adModal:0,adAccion:0,adNombre:"",adId:"",grupos:[],proyectos:[],grupousuarios:[],proyectousuarios:[],workuserId:"",groupheader:"",proyheader:"",groupdialog:!1,proydialog:!1,searchg:"",searchn:"",rolid:"",iniciales:"",nombre:"",apellido:"",telefono:"",password:"",colfondo:"#000000",coltexto:"black",lineaspag:0,pxch:!1,addgroup:"",addproy:"",actPassword:!1}},computed:{dateRangeText:function(){return this.dates.join(" ~ ")},headerartists:function(){return[{text:"Avatar",value:"imgartist",align:"center",sortable:!1},{text:"Full Name",value:"fullname",align:"start",sortable:!0,width:250,filter:this.fullnameFilter},{text:"Main Role",value:"mainrole",align:"start",sortable:!0,filter:this.roleFilter},{text:"Skills",value:"_skillartisttxs",align:"start",sortable:!0,width:250,filter:this.skillFilter},{text:"Portfolio",value:"_portfolios",align:"start",sortable:!0},{text:"Project Worked",value:"projectsworked",align:"start",sortable:!0,width:300},{text:"Notes",value:"_notes",align:"start",sortable:!0,width:350},{text:"Schedules",value:"_schedules",align:"start",sortable:!0,width:300},{text:"Rating",value:"_rating",align:"center",sortable:!0},{text:"Cost",value:"cost",align:"start",sortable:!0,width:150},{text:"Costing date",value:"costingdate",align:"start",sortable:!0,width:150},{text:"eMail",value:"email",align:"start",sortable:!0,width:200},{text:"Alternative Contact",value:"alternativecontact",align:"start",sortable:!0,width:200},{text:"Phone",value:"phone",align:"start",sortable:!0,width:150},{text:"Mobile",value:"mobile",align:"start",sortable:!0,width:150},{text:"Status",value:"activo",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:200}]},headerskills:function(){return[{text:"#",value:"selected",align:"center",sortable:!0},{text:"Skill",value:"text",align:"start",sortable:!0}]},headerportfolio:function(){return[{text:"Instance",value:"text",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},headernotes:function(){return[{text:"Updated",value:"fecumod",align:"start",sortable:!0},{text:"Note",value:"text",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},headerschedules:function(){return[{text:"Start",value:"startdate",align:"start",sortable:!0},{text:"End",value:"enddate",align:"start",sortable:!0},{text:"Reason",value:"reason",align:"start",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},headerratings:function(){return[{text:"Updated",value:"fecumod",align:"start",sortable:!0},{text:"Project",value:"projectname",align:"start",sortable:!0},{text:"Score",value:"score",align:"center",sortable:!0},{text:"[Options]",value:"actions",align:"center",sortable:!1,width:100}]},formTitle:function(){return-1===this.editedIndex?"New Artist":"Update Artist"},formTitlePortfolio:function(){return-1===this.editedIndex?"New Portfolio":"Update Portfolio"},formTitleNote:function(){return-1===this.editedIndex?"New Note":"Update Note"},formTitleSchedule:function(){return-1===this.editedIndex?"New Schedule":"Update Schedule"},formTitleRating:function(){return-1===this.editedIndex?"New Rate":"Update Rate"}},watch:{dialog:function(t){t||this.closedialog()}},mounted:function(){var t=this;return Object(Et["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.artists=[],e.next=3,t.select();case 3:return e.next=5,t.listar();case 5:case"end":return e.stop()}}),e)})))()},methods:{salir:function(){this.$store.dispatch("salir")},fullnameFilter:function(t){return!this.fullnameFilterValues||t.includes(this.fullnameFilterValues)},roleFilter:function(t){var e=this;if(0==this.roleFilterValues.length)return!0;t=t.split(", ");var a=t.map((function(t){return e.roles.find((function(e){return e.text===t})).value}));return this.roleFilterValues.find((function(t){return a.indexOf(t)>-1}))},skillFilter:function(t){if(0==this.skillFilterValues.length)return!0;t=t.split(", ");for(var e=0;e<t.length;e++)for(var a=0;a<this.skillFilterValues.length;a++)if(t[e]==this.skillFilterValues[a])return!0;return!1},save:function(t){if(t.activo){var e=this,a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};n.a.put("api/Artists/Actualizar",{id:t.id,fullname:t.fullname,mainroleid:t.mainroleid,projectsworked:t.projectsworked,cost:t.cost,costingdate:t.costingdate,costinguserid:t.costinguserid,email:t.email,alternativecontact:t.alternativecontact,phone:t.phone,mobile:t.mobile,imgartist:t.imgartist,proveedorid:t.proveedorid,iduserumod:e.$store.state.usuario.idusuario},o).then((function(){e.snacktext="Updated",e.snackcolor="success",e.snackbar=!0,e.closedialog(),e.limpiar()})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0}))}else this.snacktext="Dormant",this.snackcolor="error",this.snackbar=!0},saveCost:function(t){if(t.activo){var e=this,a=new Date,o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};n.a.put("api/Artists/Actualizar",{id:t.id,fullname:t.fullname,mainroleid:t.mainroleid,projectsworked:t.projectsworked,cost:t.cost,costingdate:new Date(a.getTime()-6e4*a.getTimezoneOffset()).toISOString(),costinguserid:e.$store.state.usuario.idusuario,email:t.email,alternativecontact:t.alternativecontact,phone:t.phone,mobile:t.mobile,imgartist:t.imgartist,proveedorid:t.proveedorid,iduserumod:e.$store.state.usuario.idusuario},s).then((function(a){t.costingdate=a.costingdate,t.costinguserid=a.costinguserid,e.snacktext="Updated",e.snackcolor="success",e.snackbar=!0,e.closedialog(),e.limpiar()})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0}))}else this.snacktext="Dormant",this.snackcolor="error",this.snackbar=!0},cancel:function(){this.snacktext="Canceled",this.snackcolor="error",this.snackbar=!0},open:function(){},close:function(){},pickFile:function(){this.$refs.image.click()},onFilePicked:function(t){var e=this,a=t.target.files;if(void 0!==a[0]){if(this.imageName=a[0].name,this.imageName.lastIndexOf(".")<=0)return;var o=new FileReader;o.readAsDataURL(a[0]),o.addEventListener("load",(function(){e.imageUrl=o.result,e.imageFile=a[0],e.imgartist=e.imageUrl}))}else this.imageName="",this.imageFile="",this.imageUrl=""},clearImagen:function(){this.imageUrl="",this.imgartist=""},crearXLS:function(){this.json_fields={"Full Name":"fullname","Main Role":"mainrole",Skills:"_skillartisttxs",Portfolio:"_portfolios","Projects Worked":"projectsworked",Notes:"_notes",Schedules:"_schedules",Rating:"_rating",Cost:"cost","Costing date":{field:"costingdate",callback:function(t){return t.substr(0,10)}},"Costing userid":"costinguserid",eMail:"email","Alt.Contact":"alternativecontact",Phone:"phone",Mobile:"mobile","Last update":{field:"fecumod",callback:function(t){return t.substr(0,10)+" "+t.substr(11,5)}}},this.json_data=this.artists.filter((function(t){return!0===t.activo}))},crearPDF:function(){var t=[{title:"Fullname",dataKey:"fullname"},{title:"Main Role",dataKey:"mainrole"},{title:"eMail",dataKey:"email"},{title:"Alt.Contact",dataKey:"alternativecontact"},{title:"Phone",dataKey:"phone"},{title:"Mobile",dataKey:"mobile"}],e=[];this.artists.map((function(t){e.push({fullname:t.fullname,mainrole:t.mainrole,_skillartisttxs:t._skillartisttxs,_portfolios:t._portfolios,projectsworked:t.projectsworked,_notes:t._notes,_schedules:t._schedules,_rating:t._rating,cost:t.cost,costingdate:t.costingdate,costinguserid:t.costinguserid,email:t.email,alternativecontact:t.alternativecontact,phone:t.phone,mobile:t.mobile,activo:t.activo})}));var a=new mt["default"]("l","pt");a.autoTable(t,e.filter((function(t){return!0===t.activo})),{margin:{top:60},addPageContent:function(){a.text("Artist Contact List",40,30)}}),a.save("ArtistCallList.pdf")},listar:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};n.a.get("api/Artists/Listar",a).then((function(e){t.artists=e.data,setTimeout((function(){t.fillSnowflake(t.artists);var e=t.artists[0];t.artists.splice(0,1,e)}),0)})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},fillSnowflake:function(t){for(var e=this,a=[],o="",s="",r="",i="",n="",l=0,c=0,d="",u=0;u<t.length;u++){a=e.skillartists.filter((function(e){return e.artistid===t[u].id}));for(var v=0;v<a.length;v++)o+=a[v].skillid.toString()+", ",r=e.skills.findIndex((function(t){return t.value===a[v].skillid})),s+=e.skills[r].text+", ";t[u]._skillartistids=o.substring(0,o.length-2),t[u]._skillartisttxs=s.substring(0,s.length-2),o="",s="",a=e.notes.filter((function(e){return e.artistid===t[u].id}));for(var m=0;m<a.length;m++)i+=a[m].fecumod.substr(0,10)+": "+a[m].text+", ";t[u]._notes=i.length>512?i.substr(0,512):i.substring(0,i.length-2),i="",a=e.portfolios.filter((function(e){return e.artistid===t[u].id}));for(var f=0;f<a.length;f++)n+=a[f].text+" ";t[u]._portfolios=n.length>128?n.substr(0,128):n.substring(0,n.length-1),n="",a=e.ratings.filter((function(e){return e.artistid===t[u].id}));for(var p=0;p<a.length;p++)a[p].activo&&(l+=a[p].score,c++);t[u]._rating=Math.round(l/c),l=0,c=0,a=e.schedules.filter((function(e){return e.artistid===t[u].id}));for(var h=0;h<a.length;h++)d+="["+a[h].startdate.substr(0,10)+" ~ "+a[h].enddate.substr(0,10)+"] "+a[h].reason+", ";t[u]._schedules=d.length>128?d.substr(0,128):d.substring(0,d.length-2),d=""}},select:function(){var t=this,e=[],a=[],o=[],s=[],r=[],i=[],l=[],c={Authorization:"Bearer "+t.$store.state.token},d={headers:c};n.a.get("api/Usuarios/Listar",d).then((function(a){e=a.data,e.map((function(e){t.usuarios.push({iduseralta:e.iduseralta,iduserumod:e.iduserumod,imgusuario:e.imgusuario,colfondo:e.colfondo,coltexto:e.coltexto,email:e.email,iniciales:e.iniciales,nombre:e.nombre,apellido:e.apellido,value:e.id})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e),401==e.response.status&&t.salir()})),n.a.get("api/Skills/Select",d).then((function(e){a=e.data,a.map((function(e){t.skills.push({selected:!1,value:e.id,text:e.skill,ismainrole:e.ismainrole,relid:0}),t.skillsfilter.push({text:e.skill,ismainrole:e.ismainrole}),t.roles=t.skills.filter((function(t){return t.ismainrole}))}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Skillartists/Listar",d).then((function(e){o=e.data,o.map((function(e){t.skillartists.push({selected:!1,value:e.id,skillid:e.skillid,artistid:e.artistid,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Notes/Listar",d).then((function(e){s=e.data,s.map((function(e){t.notes.push({selected:!1,value:e.id,artistid:e.artistid,text:e.note,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Portfolios/Listar",d).then((function(e){r=e.data,r.map((function(e){t.portfolios.push({selected:!1,value:e.id,artistid:e.artistid,text:e.url,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Ratings/Listar",d).then((function(e){i=e.data,i.map((function(e){t.ratings.push({value:e.id,artistid:e.artistid,projectname:e.projectname,score:e.score,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})),n.a.get("api/Schedules/Listar",d).then((function(e){l=e.data,l.map((function(e){t.schedules.push({value:e.id,artistid:e.artistid,startdate:e.startdate,enddate:e.enddate,reason:e.reason,iduseralta:e.iduseralta,fecalta:e.fecalta,iduserumod:e.iduserumod,fecumod:e.fecumod,activo:e.activo})}))})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},editItem:function(t){this.id=t.id,this.fullname=t.fullname,this.mainroleid=t.mainroleid,this.projectsworked=t.projectsworked,this.cost=t.cost,this.costingdate=t.costingdate,this.costinguserid=t.costinguserid,this.email=t.email,this.alternativecontact=t.alternativecontact,this.phone=t.phone,this.mobile=t.mobile,this.imgartist=t.imgartist,this.imageUrl=t.imgartist,this.proveedorid=t.proveedorid,this.iduseralta=t.iduseralta,this.fecalta=t.fecalta,this.iduserumod=t.iduserumod,this.fecumod=t.fecumod,this.activo=t.activo,this.colfondo=t.colfondo,this.coltexto=t.coltexto,this.editedIndex=1,this.groupdialog=!1,this.proydialog=!1,this.dialog=!0},deleteItem:function(t){var e=this,a=confirm("Esta seguro de querer borrar el registro?");if(a){var o={Authorization:"Bearer "+e.$store.state.token},s={headers:o};n.a.delete("api/Artists/Eliminar/"+t.id,s).then((function(){e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0,e.closedialog(),e.listar()})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t)}))}},infoItem:function(t){var e=this.usuarios.findIndex((function(e){return e.iduseralta===t.iduseralta}));this.adNombre=t.fullname,this.iduseralta=this.usuarios[e].email+" "+this.usuarios[e].apellido+" "+this.usuarios[e].nombre,this.fecalta=t.fecalta,this.iduserumod=this.usuarios[e].email+" "+this.usuarios[e].apellido+" "+this.usuarios[e].nombre,this.fecumod=t.fecumod,this.recordInfo=!0},closeInfo:function(){this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.adNombre="",this.recordInfo=!1},closedialog:function(){this.dialog=!1,this.limpiar()},limpiar:function(){this.id="",this.fullname="",this.mainroleid="",this.projectsworked="",this.cost="",this.costingdate="",this.email="",this.alternativecontact="",this.phone="",this.mobile="",this.imgusario="",this.imageUrl="",this.proveedorid="",this.iduseralta="",this.fecalta="",this.iduserumod="",this.fecumod="",this.activo=!1,this.groupdialog=!1,this.editedIndex=-1},guardar:function(){var t=this,e={Authorization:"Bearer "+this.$store.state.token},a={headers:e};this.editedIndex>-1?n.a.put("api/Artists/Actualizar",{id:t.id,fullname:t.fullname,mainroleid:t.mainroleid,projectsworked:t.projectsworked,cost:t.cost,costingdate:t.costingdate,costinguserid:t.costinguserid,email:t.email,alternativecontact:t.alternativecontact,phone:t.phone,mobile:t.mobile,imgartist:t.imgartist,proveedorid:t.proveedorid,iduserumod:t.$store.state.usuario.idusuario},a).then((function(){t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0,t.closedialog(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})):n.a.post("api/Artists/Crear",{fullname:t.fullname,mainroleid:t.mainroleid,projectsworked:t.projectsworked,cost:t.cost,costingdate:t.costingdate,costinguserid:t.costinguserid,email:t.email,alternativecontact:t.alternativecontact,phone:t.phone,mobile:t.mobile,imgartist:t.imgartist,proveedorid:t.proveedorid,iduseralta:t.$store.state.usuario.idusuario},a).then((function(){t.snacktext="Created",t.snackcolor="success",t.snackbar=!0,t.closedialog(),t.listar(),t.limpiar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},tratarPreview:function(){this.checkin="",this.detail="",this.checkindialog=!this.checkindialog},guardarCheckin:function(){},tratarSkill:function(t){for(var e=this,a=0,o=0;o<e.skills.length;o++)e.skills[o].selected=!1,e.skills[o].relid=0;for(var s=0;s<e.skillartists.length;s++)e.skillartists[s].artistid===t.id&&(a=e.skills.findIndex((function(t){return t.value===e.skillartists[s].skillid})),e.skills[a].selected=!0,e.skills[a].relid=e.skillartists[s].value);e.workedartistid=t.id,e.skillheader="Skill assigned to "+t.fullname,e.skilldialog=!e.skilldialog},tratarPortfolio:function(t){var e=this;e.portfolioartists=e.portfolios.filter((function(e){return e.artistid===t.id})),e.workedartistid=t.id,e.portfolioheader=t.fullname,e.portfoliodialog=!e.portfoliodialog},tratarNote:function(t){var e=this;e.noteartists=e.notes.filter((function(e){return e.artistid===t.id})),e.workedartistid=t.id,e.noteheader=t.fullname,e.notedialog=!e.notedialog},tratarRating:function(t){var e=this;e.ratingartists=e.ratings.filter((function(e){return e.artistid===t.id})),e.workedartistid=t.id,e.ratingheader=t.fullname,e.ratingdialog=!e.ratingdialog},tratarSchedule:function(t){var e=this;e.scheduleartists=e.schedules.filter((function(e){return e.artistid===t.id})),e.workedartistid=t.id,e.scheduleheader=t.fullname,e.scheduledialog=!e.scheduledialog},tratarGrupos:function(t){for(var e=this,a=0,o=0;o<e.grupos.length;o++)e.grupos[o].selected=!1;for(var s=function(o){e.grupousuarios[o].usuarioid===t.id&&(a=e.grupos.findIndex((function(t){return t.value===e.grupousuarios[o].grupoid})),e.grupos[a].selected=!0)},r=0;r<e.grupousuarios.length;r++)s(r);e.workuserId=t.id,e.groupheader="Grupos de "+t.iniciales+" "+t.email,e.groupdialog=!e.groupdialog},accionSkill:function(t){var e=this;if(!0===t.selected){var a={Authorization:"Bearer "+e.$store.state.token},o={headers:a};n.a.post("api/Skillartists/Crear",{skillid:t.value,artistid:e.workedartistid,iduseralta:e.$store.state.usuario.idusuario},o).then((function(t){e.skillartists.push({selected:!0,skillid:t.data.skillid,artistid:t.data.artistid,value:t.data.id}),e.fillSnowflake(e.artists),e.snacktext="Created",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t)}))}else{var s=e.skillartists.find((function(a){return t.value===a.skillid&&e.workedartistid===a.artistid})).value,r={Authorization:"Bearer "+e.$store.state.token},i={headers:r};n.a.delete("api/Skillartists/Eliminar/"+s,i).then((function(){e.skillartists=e.skillartists.filter((function(t){return t.value!=s})),e.fillSnowflake(e.artists),e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t)}))}},editPortfolio:function(t){this.editedIndex=this.portfolios.indexOf(t),this.url=t.text,this.portfolioCRUDdialog=!0},closePortfolio:function(){this.editedIndex=-1,this.url="",this.portfolioCRUDdialog=!1},deletePortfolio:function(t){this.editedIndex=this.portfolios.indexOf(t),this.url=t.text,this.dialogDeletePortfolio=!0},closeDeletePortfolio:function(){this.dialogDeletePortfolio=!1,this.url="",this.editedIndex=-1},deletePorfolioConfirm:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};n.a.delete("api/Portfolios/Eliminar/"+t.portfolios[t.editedIndex].value,a).then((function(){t.portfolios=t.portfolios.filter((function(e){return e.value!=t.portfolios[t.editedIndex].value})),t.portfolioartists=t.portfolios.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeDeletePortfolio(),t.snacktext="Eliminated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},savePortfolio:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};t.editedIndex>-1?n.a.put("api/Portfolios/Actualizar",{id:t.portfolios[t.editedIndex].value,url:t.url,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.portfolios[t.editedIndex].text=e.data.url,t.portfolios[t.editedIndex].iduserumod=e.data.iduserumod,t.portfolios[t.editedIndex].fecumod=e.data.fecumod,t.portfolioartists=t.portfolios.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closePortfolio(),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})):n.a.post("api/Portfolios/Crear",{artistid:t.workedartistid,url:t.url,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.portfolios.push({selected:!1,value:e.data.id,artistid:e.data.artistid,text:e.data.url,iduseralta:e.data.iduseralta,fecalta:e.data.fecalta,iduserumod:e.data.iduserumod,fecumod:e.data.fecumod,activo:e.data.activo}),t.portfolioartists=t.portfolios.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closePortfolio(),t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},openTab:function(t){this.dependentWindow&&this.closeTab(),this.dependentWindow=window.open(t,"_blank")},viewTab:function(t){this.dependentWindow=window.open(t,"mywin","width=500, height=400")},closeTab:function(){this.dependentWindow.close()},editNote:function(t){this.editedIndex=this.notes.indexOf(t),this.note=t.text,this.noteCRUDdialog=!0},closeNote:function(){this.editedIndex=-1,this.note="",this.noteCRUDdialog=!1},deleteNote:function(t){this.editedIndex=this.notes.indexOf(t),this.note=t.text,this.dialogDeleteNote=!0},closeDeleteNote:function(){this.dialogDeleteNote=!1,this.note="",this.editedIndex=-1},deleteNoteConfirm:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};n.a.delete("api/Notes/Eliminar/"+t.notes[t.editedIndex].value,a).then((function(){t.notes=t.notes.filter((function(e){return e.value!=t.notes[t.editedIndex].value})),t.noteartists=t.notes.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeDeleteNote(),t.snacktext="Eliminated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},saveNote:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};t.editedIndex>-1?n.a.put("api/Notes/Actualizar",{id:t.notes[t.editedIndex].value,note:t.note,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.notes[t.editedIndex].text=e.data.note,t.notes[t.editedIndex].iduserumod=e.data.iduserumod,t.notes[t.editedIndex].fecumod=e.data.fecumod,t.noteartists=t.notes.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeNote(),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})):n.a.post("api/Notes/Crear",{artistid:t.workedartistid,note:t.note,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.notes.push({selected:!1,value:e.data.id,artistid:e.data.artistid,text:e.data.note,iduseralta:e.data.iduseralta,fecalta:e.data.fecalta,iduserumod:e.data.iduserumod,fecumod:e.data.fecumod,activo:e.data.activo}),t.noteartists=t.notes.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeNote(),t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},editSchedule:function(t){this.editedIndex=this.schedules.indexOf(t),this.startdate=t.startdate,this.enddate=t.enddate,this.reason=t.reason,this.dates=[],this.dates.push(this.startdate.substr(0,10),this.enddate.substr(0,10)),this.scheduleCRUDdialog=!0},closeSchedule:function(){this.editedIndex=-1,this.startdate="",this.enddate="",this.reason="",this.dates=[],this.scheduleCRUDdialog=!1},deleteSchedule:function(t){this.editedIndex=this.schedules.indexOf(t),this.startdate=t.startdate,this.enddate=t.enddate,this.reason=t.reason,this.dates=[],this.dates.push(this.startdate.substr(0,10),this.enddate.substr(0,10)),this.dialogDeleteSchedule=!0},closeDeleteSchedule:function(){this.dialogDeleteSchedule=!1,this.startdate="",this.enddate="",this.reason="",this.dates=[],this.editedIndex=-1},deleteScheduleConfirm:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};n.a.delete("api/Schedules/Eliminar/"+t.schedules[t.editedIndex].value,a).then((function(){t.schedules=t.schedules.filter((function(e){return e.value!=t.schedules[t.editedIndex].value})),t.scheduleartists=t.schedules.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeDeleteSchedule(),t.snacktext="Eliminated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},saveSchedule:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};t.editedIndex>-1?n.a.put("api/Schedules/Actualizar",{id:t.schedules[t.editedIndex].value,startdate:t.dates[0],enddate:t.dates[1],reason:t.reason,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.schedules[t.editedIndex].startdate=e.data.startdate,t.schedules[t.editedIndex].enddate=e.data.enddate,t.schedules[t.editedIndex].reason=e.data.reason,t.schedules[t.editedIndex].iduserumod=e.data.iduserumod,t.schedules[t.editedIndex].fecumod=e.data.fecumod,t.scheduleartists=t.schedules.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeSchedule(),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})):n.a.post("api/Schedules/Crear",{artistid:t.workedartistid,startdate:t.dates[0],enddate:t.dates[1],reason:t.reason,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.schedules.push({selected:!1,value:e.data.id,artistid:e.data.artistid,startdate:e.data.startdate,enddate:e.data.enddate,reason:e.data.reason,iduseralta:e.data.iduseralta,fecalta:e.data.fecalta,iduserumod:e.data.iduserumod,fecumod:e.data.fecumod,activo:e.data.activo}),t.scheduleartists=t.schedules.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeSchedule(),t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},editRating:function(t){this.editedIndex=this.ratings.indexOf(t),this.score=t.score,this.projectname=t.projectname,this.ratingCRUDdialog=!0},closeRating:function(){this.editedIndex=-1,this.score=0,this.projectname="",this.ratingCRUDdialog=!1},deleteRating:function(t){this.editedIndex=this.ratings.indexOf(t),this.score=t.score,this.projectname=t.projectname,this.dialogDeleteRating=!0},closeDeleteRating:function(){this.dialogDeleteRating=!1,this.score=0,this.projectname="",this.editedIndex=-1},deleteRatingConfirm:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};n.a.delete("api/Ratings/Eliminar/"+t.ratings[t.editedIndex].value,a).then((function(){t.ratings=t.ratings.filter((function(e){return e.value!=t.ratings[t.editedIndex].value})),t.ratingartists=t.ratings.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeDeleteRating(),t.snacktext="Eliminated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},saveRating:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};t.editedIndex>-1?n.a.put("api/Ratings/Actualizar",{id:t.ratings[t.editedIndex].value,projectname:t.projectname,score:t.score,iduserumod:t.$store.state.usuario.idusuario},a).then((function(e){t.ratings[t.editedIndex].score=e.data.score,t.ratings[t.editedIndex].projectname=e.data.projectname,t.ratings[t.editedIndex].iduserumod=e.data.iduserumod,t.ratings[t.editedIndex].fecumod=e.data.fecumod,t.ratingartists=t.ratings.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeRating(),t.snacktext="Updated",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)})):n.a.post("api/Ratings/Crear",{artistid:t.workedartistid,projectname:t.projectname,score:t.score,iduseralta:t.$store.state.usuario.idusuario},a).then((function(e){t.ratings.push({selected:!1,value:e.data.id,artistid:e.data.artistid,score:e.data.score,projectname:e.data.projectname,iduseralta:e.data.iduseralta,fecalta:e.data.fecalta,iduserumod:e.data.iduserumod,fecumod:e.data.fecumod,activo:e.data.activo}),t.ratingartists=t.ratings.filter((function(e){return e.artistid===t.workedartistid})),t.fillSnowflake(t.artists),t.closeRating(),t.snacktext="Created",t.snackcolor="success",t.snackbar=!0})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},tratarProyectos:function(t){for(var e=this,a=0,o=0;o<e.proyectos.length;o++)e.proyectos[o].selected=!1,e.proyectos[o].relid=0,e.proyectos[o].tarifaproyectousuario=0,e.proyectos[o].costoproyectousuario=0,e.proyectos[o].notas="";for(var s=function(o){e.proyectousuarios[o].usuarioid===t.id&&(a=e.proyectos.findIndex((function(t){return t.value===e.proyectousuarios[o].proyectoid})),e.proyectos[a].selected=!0,e.proyectos[a].relid=e.proyectousuarios[o].value,e.proyectos[a].tarifaproyectousuario=e.proyectousuarios[o].tarifaproyectousuario,e.proyectos[a].costoproyectousuario=e.proyectousuarios[o].costoproyectousuario,e.proyectos[a].notas=e.proyectousuarios[o].notas)},r=0;r<e.proyectousuarios.length;r++)s(r);e.workuserId=t.id,e.proyheader="Proyectos vinculados a "+t.iniciales+" "+t.email,e.proydialog=!e.proydialog},accionGrupo:function(t){var e=this;if(!0===t.selected){var a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};n.a.post("api/Grupousuarios/Crear",{grupoid:t.value,usuarioid:this.workuserId,iduseralta:e.$store.state.usuario.idusuario},o).then((function(t){e.grupousuarios.push({grupoid:t.data.grupoid,usuarioid:t.data.usuarioid,value:t.data.id}),e.snacktext="Created",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t)}))}else{var s=e.grupousuarios.find((function(a){return t.value===a.grupoid&&e.workuserId===a.usuarioid})).value,r={Authorization:"Bearer "+e.$store.state.token},i={headers:r};n.a.delete("api/Grupousuarios/Eliminar/"+s,i).then((function(){e.grupousuarios=e.grupousuarios.filter((function(t){return t.value!=s})),e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t)}))}},accionProyecto:function(t){var e=this,a=0;if(a=e.proyectos.findIndex((function(e){return e.value===t.value})),!0===t.selected){var o={Authorization:"Bearer "+this.$store.state.token},s={headers:o};n.a.post("api/Proyectousuarios/Crear",{proyectoid:t.value,usuarioid:this.workuserId,tarifaproyectousuario:t.tarifaproyectousuario,costoproyectousuario:t.costoproyectousuario,notas:t.notas,iduseralta:e.$store.state.usuario.idusuario},s).then((function(t){e.proyectousuarios.push({proyectoid:t.data.proyectoid,usuarioid:t.data.usuarioid,value:t.data.id}),e.proyectos[a].relid=t.data.id,e.snacktext="Created",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t)}))}else{var r=e.proyectousuarios.find((function(a){return t.value===a.proyectoid&&e.workuserId===a.usuarioid})).value,i={Authorization:"Bearer "+e.$store.state.token},l={headers:i};n.a.delete("api/Proyectousuarios/Eliminar/"+r,l).then((function(){e.proyectousuarios=e.proyectousuarios.filter((function(t){return t.value!=r})),e.proyectos[a].relid=0,e.proyectos[a].tarifaproyectousuario=0,e.proyectos[a].costoproyectousuario=0,e.proyectos[a].notas="",e.snacktext="Eliminated",e.snackcolor="success",e.snackbar=!0})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackcolor="error",e.snackbar=!0,console.log(t)}))}},agregarGrupo:function(t){var e=this;if(t.length>=3&&t.length<=50){var a={Authorization:"Bearer "+this.$store.state.token},o={headers:a};n.a.post("api/Grupos/Crear",{nombre:t,iduseralta:e.$store.state.usuario.idusuario},o).then((function(t){e.grupos.push({selected:!1,nombre:t.data.nombre,value:t.data.id}),e.snacktext="Created",e.snackcolor="success",e.snackbar=!0,e.addgroup=""})).catch((function(t){e.snacktext="An error was detected. Code: "+t.response.status,e.snackbar=!0,e.snackcolor="error",console.log(t)}))}},activarDesactivarMostrar:function(t,e){this.adModal=1,this.adNombre=e.fullname,this.adId=e.id,1==t?this.adAccion=1:2==t?this.adAccion=2:this.adModal=0},activarDesactivarCerrar:function(){this.adModal=0},activar:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};n.a.put("api/Artists/Activar/"+t.adId,{},a).then((function(){t.snacktext="Activated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))},desactivar:function(){var t=this,e={Authorization:"Bearer "+t.$store.state.token},a={headers:e};n.a.put("api/Artists/Desactivar/"+t.adId,{},a).then((function(){t.snacktext="Inactivated",t.snackcolor="success",t.snackbar=!0,t.adModal=0,t.adAccion=0,t.adNombre="",t.adId="",t.listar()})).catch((function(e){t.snacktext="An error was detected. Code: "+e.response.status,t.snackcolor="error",t.snackbar=!0,console.log(e)}))}}}),Bt=Tt,Lt=a("2e4b"),zt=a("7679"),Ot=a("e449"),Kt=a("1d4d"),Wt=a("9e88"),qt=Object(d["a"])(Bt,Ut,Mt,!1,null,null,null),Gt=qt.exports;v()(qt,{VAvatar:h["a"],VBtn:k["a"],VCard:g["a"],VCardActions:q["a"],VCardText:q["b"],VCardTitle:q["c"],VChip:ht["a"],VCol:b["a"],VContainer:x["a"],VDataTable:kt["a"],VDatePicker:Lt["a"],VDialog:G["a"],VDivider:gt["a"],VEditDialog:zt["a"],VForm:lt["a"],VIcon:y["a"],VImg:C["a"],VLayout:w["a"],VMenu:Ot["a"],VRating:Kt["a"],VRow:J["a"],VSelect:Nt["a"],VSimpleCheckbox:Wt["a"],VSnackbar:Y["a"],VSpacer:$["a"],VTextField:H["a"],VToolbar:X["a"],VToolbarTitle:N["a"],VTooltip:bt["a"]}),o["a"].use(U["a"]);var Jt=[{path:"/",name:"home",component:ot,meta:{administrador:!0,jefeadministracion:!0,liderproyecto:!0,consultor:!0,asistadministracion:!0,dataentry:!0}},{path:"/login",name:"login",component:dt,meta:{libre:!0}},{path:"/artists",name:"artists",component:Gt,meta:{administrador:!0,jefeadministracion:!0,liderproyecto:!0,consultor:!0,asistadministracion:!0,dataentry:!0}},{path:"/skills",name:"skills",component:Vt,meta:{administrador:!0,jefeadministracion:!0,liderproyecto:!0,consultor:!0,asistadministracion:!0,dataentry:!0}},{path:"/roles",name:"roles",component:_t,meta:{administrador:!0,jefeadministracion:!0,liderproyecto:!0,consultor:!0,asistadministracion:!0,dataentry:!0}},{path:"/usuarios",name:"usuarios",component:Pt,meta:{administrador:!0,jefeadministracion:!0,liderproyecto:!0,consultor:!0,asistadministracion:!0,dataentry:!0}},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}}],Yt=new U["a"]({mode:"history",base:"/",routes:Jt});Yt.beforeEach((function(t,e,a){t.matched.some((function(t){return t.meta.libre}))?a():T.state.usuario&&"Administrador"==T.state.usuario.rol?t.matched.some((function(t){return t.meta.administrador}))&&a():T.state.usuario&&"JefeAdministracion"==T.state.usuario.rol?t.matched.some((function(t){return t.meta.jefeadministracion}))&&a():T.state.usuario&&"AsistAdministracion"==T.state.usuario.rol?t.matched.some((function(t){return t.meta.asistadministracion}))&&a():T.state.usuario&&"LiderProyecto"==T.state.usuario.rol?t.matched.some((function(t){return t.meta.liderproyecto}))&&a():T.state.usuario&&"Consultor"==T.state.usuario.rol?t.matched.some((function(t){return t.meta.consultor}))&&a():T.state.usuario&&"Dataentry"==T.state.usuario.rol?t.matched.some((function(t){return t.meta.dataentry}))&&a():a({name:"login"})}));var Ht=Yt,Xt=a("f309"),Qt=a("a925");o["a"].use(Xt["a"]),o["a"].use(Qt["a"]);var Zt=new Xt["a"]({theme:{options:{customProperties:!0},themes:{light:{primary:"#212121",secondary:"#424242",accent:"#82B1FF",error:"#FF5252",info:"#2196F3",success:"#4CAF50",warning:"#FFC107"}}}}),te=a("bf15");a("7d32");n.a.defaults.baseURL="https://mana.1stave.ba/",o["a"].config.productionTip=!1,o["a"].config.devtools=!0,o["a"].use(te["a"]),new o["a"]({i18n:Qt["a"],router:Ht,store:T,vuetify:Zt,render:function(t){return t(P)}}).$mount("#app")},"7d32":function(t,e,a){},e098:function(t,e,a){},fc37:function(t,e,a){"use strict";a("e098")}});
//# sourceMappingURL=app.c554f7ca.js.map